/*! For license information please see sdk.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.SilverSurferSDK=e():t.SilverSurferSDK=e()}(window,(function(){return(()=>{var t={558:(t,e,r)=>{"use strict";Array.isArray;var n,o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{},i="object"==typeof o&&o&&o.Object===Object&&o,a="object"==typeof self&&self&&self.Object===Object&&self,s=i||a||Function("return this")(),c=s.Symbol,u=Object.prototype,l=u.hasOwnProperty,f=u.toString,p=c?c.toStringTag:void 0,d=Object.prototype.toString,h=c?c.toStringTag:void 0,v=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":h&&h in Object(t)?function(t){var e=l.call(t,p),r=t[p];try{t[p]=void 0;var n=!0}catch(t){}var o=f.call(t);return n&&(e?t[p]=r:delete t[p]),o}(t):function(t){return d.call(t)}(t)},y=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},b=s["__core-js_shared__"],g=(n=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",w=Function.prototype.toString,m=/^\[object .+?Constructor\]$/,_=Function.prototype,S=Object.prototype,O=_.toString,E=S.hasOwnProperty,x=RegExp("^"+O.call(E).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),I=function(t){return!(!y(t)||(e=t,g&&g in e))&&(function(t){if(!y(t))return!1;var e=v(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}(t)?x:m).test(function(t){if(null!=t){try{return w.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e},A=function(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return I(r)?r:void 0},j=A(Object,"create"),k=Object.prototype.hasOwnProperty,T=Object.prototype.hasOwnProperty;function N(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}N.prototype.clear=function(){this.__data__=j?j(null):{},this.size=0},N.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},N.prototype.get=function(t){var e=this.__data__;if(j){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return k.call(e,t)?e[t]:void 0},N.prototype.has=function(t){var e=this.__data__;return j?void 0!==e[t]:T.call(e,t)},N.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=j&&void 0===e?"__lodash_hash_undefined__":e,this};var C=N,D=function(t,e){for(var r=t.length;r--;)if((n=t[r][0])===(o=e)||n!=n&&o!=o)return r;var n,o;return-1},P=Array.prototype.splice;function L(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}L.prototype.clear=function(){this.__data__=[],this.size=0},L.prototype.delete=function(t){var e=this.__data__,r=D(e,t);return!(r<0||(r==e.length-1?e.pop():P.call(e,r,1),--this.size,0))},L.prototype.get=function(t){var e=this.__data__,r=D(e,t);return r<0?void 0:e[r][1]},L.prototype.has=function(t){return D(this.__data__,t)>-1},L.prototype.set=function(t,e){var r=this.__data__,n=D(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};var R=L,M=A(s,"Map"),B=function(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map};function F(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}F.prototype.clear=function(){this.size=0,this.__data__={hash:new C,map:new(M||R),string:new C}},F.prototype.delete=function(t){var e=B(this,t).delete(t);return this.size-=e?1:0,e},F.prototype.get=function(t){return B(this,t).get(t)},F.prototype.has=function(t){return B(this,t).has(t)},F.prototype.set=function(t,e){var r=B(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};var z=F;function U(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(U.Cache||z),r}U.Cache=z;var G,V,H=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,W=/\\(\\)?/g,J=(G=U((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(H,(function(t,r,n,o){e.push(n?o.replace(W,"$1"):r||t)})),e}),(function(t){return 500===V.size&&V.clear(),t})),V=G.cache,c?c.prototype:void 0);J&&J.toString;function q(){return!("undefined"==typeof window||!window.location||!window.location.hostname)&&window.location.hostname.includes("fandom.com")}e.sH=function(){return q()?"https://services.fandom.com/":"https://services.fandom-dev.us/"},e.yv=function(){return!0}},9996:t=>{"use strict";var e=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===r}(t)}(t)},r="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function n(t,e){return!1!==e.clone&&e.isMergeableObject(t)?s((r=t,Array.isArray(r)?[]:{}),t,e):t;var r}function o(t,e,r){return t.concat(e).map((function(t){return n(t,r)}))}function i(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return t.propertyIsEnumerable(e)})):[]}(t))}function a(t,e){try{return e in t}catch(t){return!1}}function s(t,r,c){(c=c||{}).arrayMerge=c.arrayMerge||o,c.isMergeableObject=c.isMergeableObject||e,c.cloneUnlessOtherwiseSpecified=n;var u=Array.isArray(r);return u===Array.isArray(t)?u?c.arrayMerge(t,r,c):function(t,e,r){var o={};return r.isMergeableObject(t)&&i(t).forEach((function(e){o[e]=n(t[e],r)})),i(e).forEach((function(i){(function(t,e){return a(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,i)||(a(t,i)&&r.isMergeableObject(e[i])?o[i]=function(t,e){if(!e.customMerge)return s;var r=e.customMerge(t);return"function"==typeof r?r:s}(i,r)(t[i],e[i],r):o[i]=n(e[i],r))})),o}(t,r,c):n(r,c)}s.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,r){return s(t,r,e)}),{})};var c=s;t.exports=c},8552:(t,e,r)=>{var n=r(852)(r(5639),"DataView");t.exports=n},1989:(t,e,r)=>{var n=r(1789),o=r(401),i=r(7667),a=r(1327),s=r(1866);function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,t.exports=c},8407:(t,e,r)=>{var n=r(7040),o=r(4125),i=r(2117),a=r(7518),s=r(4705);function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,t.exports=c},7071:(t,e,r)=>{var n=r(852)(r(5639),"Map");t.exports=n},3369:(t,e,r)=>{var n=r(4785),o=r(1285),i=r(6e3),a=r(9916),s=r(5265);function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,t.exports=c},3818:(t,e,r)=>{var n=r(852)(r(5639),"Promise");t.exports=n},8525:(t,e,r)=>{var n=r(852)(r(5639),"Set");t.exports=n},8668:(t,e,r)=>{var n=r(3369),o=r(619),i=r(2385);function a(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new n;++e<r;)this.add(t[e])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,t.exports=a},6384:(t,e,r)=>{var n=r(8407),o=r(7465),i=r(3779),a=r(7599),s=r(4758),c=r(4309);function u(t){var e=this.__data__=new n(t);this.size=e.size}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=s,u.prototype.set=c,t.exports=u},2705:(t,e,r)=>{var n=r(5639).Symbol;t.exports=n},1149:(t,e,r)=>{var n=r(5639).Uint8Array;t.exports=n},577:(t,e,r)=>{var n=r(852)(r(5639),"WeakMap");t.exports=n},6874:t=>{t.exports=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}},7412:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}},4963:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var a=t[r];e(a,r,t)&&(i[o++]=a)}return i}},7443:(t,e,r)=>{var n=r(2118);t.exports=function(t,e){return!(null==t||!t.length)&&n(t,e,0)>-1}},1196:t=>{t.exports=function(t,e,r){for(var n=-1,o=null==t?0:t.length;++n<o;)if(r(e,t[n]))return!0;return!1}},4636:(t,e,r)=>{var n=r(2545),o=r(5694),i=r(1469),a=r(4144),s=r(5776),c=r(6719),u=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=i(t),l=!r&&o(t),f=!r&&!l&&a(t),p=!r&&!l&&!f&&c(t),d=r||l||f||p,h=d?n(t.length,String):[],v=h.length;for(var y in t)!e&&!u.call(t,y)||d&&("length"==y||f&&("offset"==y||"parent"==y)||p&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||s(y,v))||h.push(y);return h}},9932:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}},2488:t=>{t.exports=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}},2908:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}},4865:(t,e,r)=>{var n=r(9465),o=r(7813),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){var a=t[e];i.call(t,e)&&o(a,r)&&(void 0!==r||e in t)||n(t,e,r)}},8470:(t,e,r)=>{var n=r(7813);t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},4037:(t,e,r)=>{var n=r(8363),o=r(3674);t.exports=function(t,e){return t&&n(e,o(e),t)}},3886:(t,e,r)=>{var n=r(8363),o=r(1704);t.exports=function(t,e){return t&&n(e,o(e),t)}},9465:(t,e,r)=>{var n=r(8777);t.exports=function(t,e,r){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}},5990:(t,e,r)=>{var n=r(6384),o=r(7412),i=r(4865),a=r(4037),s=r(3886),c=r(4626),u=r(278),l=r(8805),f=r(1911),p=r(8234),d=r(6904),h=r(4160),v=r(3824),y=r(9148),b=r(8517),g=r(1469),w=r(4144),m=r(6688),_=r(3218),S=r(2928),O=r(3674),E=r(1704),x="[object Arguments]",I="[object Function]",A="[object Object]",j={};j[x]=j["[object Array]"]=j["[object ArrayBuffer]"]=j["[object DataView]"]=j["[object Boolean]"]=j["[object Date]"]=j["[object Float32Array]"]=j["[object Float64Array]"]=j["[object Int8Array]"]=j["[object Int16Array]"]=j["[object Int32Array]"]=j["[object Map]"]=j["[object Number]"]=j[A]=j["[object RegExp]"]=j["[object Set]"]=j["[object String]"]=j["[object Symbol]"]=j["[object Uint8Array]"]=j["[object Uint8ClampedArray]"]=j["[object Uint16Array]"]=j["[object Uint32Array]"]=!0,j["[object Error]"]=j[I]=j["[object WeakMap]"]=!1,t.exports=function t(e,r,k,T,N,C){var D,P=1&r,L=2&r,R=4&r;if(k&&(D=N?k(e,T,N,C):k(e)),void 0!==D)return D;if(!_(e))return e;var M=g(e);if(M){if(D=v(e),!P)return u(e,D)}else{var B=h(e),F=B==I||"[object GeneratorFunction]"==B;if(w(e))return c(e,P);if(B==A||B==x||F&&!N){if(D=L||F?{}:b(e),!P)return L?f(e,s(D,e)):l(e,a(D,e))}else{if(!j[B])return N?e:{};D=y(e,B,P)}}C||(C=new n);var z=C.get(e);if(z)return z;C.set(e,D),S(e)?e.forEach((function(n){D.add(t(n,r,k,n,e,C))})):m(e)&&e.forEach((function(n,o){D.set(o,t(n,r,k,o,e,C))}));var U=M?void 0:(R?L?d:p:L?E:O)(e);return o(U||e,(function(n,o){U&&(n=e[o=n]),i(D,o,t(n,r,k,o,e,C))})),D}},3118:(t,e,r)=>{var n=r(3218),o=Object.create,i=function(){function t(){}return function(e){if(!n(e))return{};if(o)return o(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();t.exports=i},1848:t=>{t.exports=function(t,e,r,n){for(var o=t.length,i=r+(n?1:-1);n?i--:++i<o;)if(e(t[i],i,t))return i;return-1}},1078:(t,e,r)=>{var n=r(2488),o=r(7285);t.exports=function t(e,r,i,a,s){var c=-1,u=e.length;for(i||(i=o),s||(s=[]);++c<u;){var l=e[c];r>0&&i(l)?r>1?t(l,r-1,i,a,s):n(s,l):a||(s[s.length]=l)}return s}},7786:(t,e,r)=>{var n=r(1811),o=r(327);t.exports=function(t,e){for(var r=0,i=(e=n(e,t)).length;null!=t&&r<i;)t=t[o(e[r++])];return r&&r==i?t:void 0}},8866:(t,e,r)=>{var n=r(2488),o=r(1469);t.exports=function(t,e,r){var i=e(t);return o(t)?i:n(i,r(t))}},4239:(t,e,r)=>{var n=r(2705),o=r(9607),i=r(2333),a=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?o(t):i(t)}},13:t=>{t.exports=function(t,e){return null!=t&&e in Object(t)}},2118:(t,e,r)=>{var n=r(1848),o=r(2722),i=r(2351);t.exports=function(t,e,r){return e==e?i(t,e,r):n(t,o,r)}},9454:(t,e,r)=>{var n=r(4239),o=r(7005);t.exports=function(t){return o(t)&&"[object Arguments]"==n(t)}},939:(t,e,r)=>{var n=r(2492),o=r(7005);t.exports=function t(e,r,i,a,s){return e===r||(null==e||null==r||!o(e)&&!o(r)?e!=e&&r!=r:n(e,r,i,a,t,s))}},2492:(t,e,r)=>{var n=r(6384),o=r(7114),i=r(8351),a=r(6096),s=r(4160),c=r(1469),u=r(4144),l=r(6719),f="[object Arguments]",p="[object Array]",d="[object Object]",h=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,v,y,b){var g=c(t),w=c(e),m=g?p:s(t),_=w?p:s(e),S=(m=m==f?d:m)==d,O=(_=_==f?d:_)==d,E=m==_;if(E&&u(t)){if(!u(e))return!1;g=!0,S=!1}if(E&&!S)return b||(b=new n),g||l(t)?o(t,e,r,v,y,b):i(t,e,m,r,v,y,b);if(!(1&r)){var x=S&&h.call(t,"__wrapped__"),I=O&&h.call(e,"__wrapped__");if(x||I){var A=x?t.value():t,j=I?e.value():e;return b||(b=new n),y(A,j,r,v,b)}}return!!E&&(b||(b=new n),a(t,e,r,v,y,b))}},5588:(t,e,r)=>{var n=r(4160),o=r(7005);t.exports=function(t){return o(t)&&"[object Map]"==n(t)}},2958:(t,e,r)=>{var n=r(6384),o=r(939);t.exports=function(t,e,r,i){var a=r.length,s=a,c=!i;if(null==t)return!s;for(t=Object(t);a--;){var u=r[a];if(c&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++a<s;){var l=(u=r[a])[0],f=t[l],p=u[1];if(c&&u[2]){if(void 0===f&&!(l in t))return!1}else{var d=new n;if(i)var h=i(f,p,l,t,e,d);if(!(void 0===h?o(p,f,3,i,d):h))return!1}}return!0}},2722:t=>{t.exports=function(t){return t!=t}},8458:(t,e,r)=>{var n=r(3560),o=r(5346),i=r(3218),a=r(346),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,f=u.hasOwnProperty,p=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(n(t)?p:s).test(a(t))}},9221:(t,e,r)=>{var n=r(4160),o=r(7005);t.exports=function(t){return o(t)&&"[object Set]"==n(t)}},8749:(t,e,r)=>{var n=r(4239),o=r(1780),i=r(7005),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!a[n(t)]}},7206:(t,e,r)=>{var n=r(1573),o=r(6432),i=r(6557),a=r(1469),s=r(9601);t.exports=function(t){return"function"==typeof t?t:null==t?i:"object"==typeof t?a(t)?o(t[0],t[1]):n(t):s(t)}},280:(t,e,r)=>{var n=r(5726),o=r(6916),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return o(t);var e=[];for(var r in Object(t))i.call(t,r)&&"constructor"!=r&&e.push(r);return e}},313:(t,e,r)=>{var n=r(3218),o=r(5726),i=r(3498),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return i(t);var e=o(t),r=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&r.push(s);return r}},1573:(t,e,r)=>{var n=r(2958),o=r(1499),i=r(2634);t.exports=function(t){var e=o(t);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(r){return r===t||n(r,t,e)}}},6432:(t,e,r)=>{var n=r(939),o=r(7361),i=r(9095),a=r(5403),s=r(9162),c=r(2634),u=r(327);t.exports=function(t,e){return a(t)&&s(e)?c(u(t),e):function(r){var a=o(r,t);return void 0===a&&a===e?i(r,t):n(e,a,3)}}},371:t=>{t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},9152:(t,e,r)=>{var n=r(7786);t.exports=function(t){return function(e){return n(e,t)}}},9877:t=>{var e=Math.floor,r=Math.random;t.exports=function(t,n){return t+e(r()*(n-t+1))}},6560:(t,e,r)=>{var n=r(5703),o=r(8777),i=r(6557),a=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:i;t.exports=a},4259:t=>{t.exports=function(t,e,r){var n=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var i=Array(o);++n<o;)i[n]=t[n+e];return i}},2545:t=>{t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},531:(t,e,r)=>{var n=r(2705),o=r(9932),i=r(1469),a=r(3448),s=n?n.prototype:void 0,c=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return o(e,t)+"";if(a(e))return c?c.call(e):"";var r=e+"";return"0"==r&&1/e==-1/0?"-0":r}},7561:(t,e,r)=>{var n=r(7990),o=/^\s+/;t.exports=function(t){return t?t.slice(0,n(t)+1).replace(o,""):t}},1717:t=>{t.exports=function(t){return function(e){return t(e)}}},5652:(t,e,r)=>{var n=r(8668),o=r(7443),i=r(1196),a=r(4757),s=r(3593),c=r(1814);t.exports=function(t,e,r){var u=-1,l=o,f=t.length,p=!0,d=[],h=d;if(r)p=!1,l=i;else if(f>=200){var v=e?null:s(t);if(v)return c(v);p=!1,l=a,h=new n}else h=e?[]:d;t:for(;++u<f;){var y=t[u],b=e?e(y):y;if(y=r||0!==y?y:0,p&&b==b){for(var g=h.length;g--;)if(h[g]===b)continue t;e&&h.push(b),d.push(y)}else l(h,b,r)||(h!==d&&h.push(b),d.push(y))}return d}},7406:(t,e,r)=>{var n=r(1811),o=r(928),i=r(292),a=r(327);t.exports=function(t,e){return e=n(e,t),null==(t=i(t,e))||delete t[a(o(e))]}},4757:t=>{t.exports=function(t,e){return t.has(e)}},1811:(t,e,r)=>{var n=r(1469),o=r(5403),i=r(5514),a=r(9833);t.exports=function(t,e){return n(t)?t:o(t,e)?[t]:i(a(t))}},4318:(t,e,r)=>{var n=r(1149);t.exports=function(t){var e=new t.constructor(t.byteLength);return new n(e).set(new n(t)),e}},4626:(t,e,r)=>{t=r.nmd(t);var n=r(5639),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,a=i&&i.exports===o?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=s?s(r):new t.constructor(r);return t.copy(n),n}},7157:(t,e,r)=>{var n=r(4318);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}},3147:t=>{var e=/\w*$/;t.exports=function(t){var r=new t.constructor(t.source,e.exec(t));return r.lastIndex=t.lastIndex,r}},419:(t,e,r)=>{var n=r(2705),o=n?n.prototype:void 0,i=o?o.valueOf:void 0;t.exports=function(t){return i?Object(i.call(t)):{}}},7133:(t,e,r)=>{var n=r(4318);t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}},278:t=>{t.exports=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}},8363:(t,e,r)=>{var n=r(4865),o=r(9465);t.exports=function(t,e,r,i){var a=!r;r||(r={});for(var s=-1,c=e.length;++s<c;){var u=e[s],l=i?i(r[u],t[u],u,r,t):void 0;void 0===l&&(l=t[u]),a?o(r,u,l):n(r,u,l)}return r}},8805:(t,e,r)=>{var n=r(8363),o=r(9551);t.exports=function(t,e){return n(t,o(t),e)}},1911:(t,e,r)=>{var n=r(8363),o=r(1442);t.exports=function(t,e){return n(t,o(t),e)}},4429:(t,e,r)=>{var n=r(5639)["__core-js_shared__"];t.exports=n},3593:(t,e,r)=>{var n=r(8525),o=r(308),i=r(1814),a=n&&1/i(new n([,-0]))[1]==1/0?function(t){return new n(t)}:o;t.exports=a},696:(t,e,r)=>{var n=r(8630);t.exports=function(t){return n(t)?void 0:t}},8777:(t,e,r)=>{var n=r(852),o=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},7114:(t,e,r)=>{var n=r(8668),o=r(2908),i=r(4757);t.exports=function(t,e,r,a,s,c){var u=1&r,l=t.length,f=e.length;if(l!=f&&!(u&&f>l))return!1;var p=c.get(t),d=c.get(e);if(p&&d)return p==e&&d==t;var h=-1,v=!0,y=2&r?new n:void 0;for(c.set(t,e),c.set(e,t);++h<l;){var b=t[h],g=e[h];if(a)var w=u?a(g,b,h,e,t,c):a(b,g,h,t,e,c);if(void 0!==w){if(w)continue;v=!1;break}if(y){if(!o(e,(function(t,e){if(!i(y,e)&&(b===t||s(b,t,r,a,c)))return y.push(e)}))){v=!1;break}}else if(b!==g&&!s(b,g,r,a,c)){v=!1;break}}return c.delete(t),c.delete(e),v}},8351:(t,e,r)=>{var n=r(2705),o=r(1149),i=r(7813),a=r(7114),s=r(8776),c=r(1814),u=n?n.prototype:void 0,l=u?u.valueOf:void 0;t.exports=function(t,e,r,n,u,f,p){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!f(new o(t),new o(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var d=s;case"[object Set]":var h=1&n;if(d||(d=c),t.size!=e.size&&!h)return!1;var v=p.get(t);if(v)return v==e;n|=2,p.set(t,e);var y=a(d(t),d(e),n,u,f,p);return p.delete(t),y;case"[object Symbol]":if(l)return l.call(t)==l.call(e)}return!1}},6096:(t,e,r)=>{var n=r(8234),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,r,i,a,s){var c=1&r,u=n(t),l=u.length;if(l!=n(e).length&&!c)return!1;for(var f=l;f--;){var p=u[f];if(!(c?p in e:o.call(e,p)))return!1}var d=s.get(t),h=s.get(e);if(d&&h)return d==e&&h==t;var v=!0;s.set(t,e),s.set(e,t);for(var y=c;++f<l;){var b=t[p=u[f]],g=e[p];if(i)var w=c?i(g,b,p,e,t,s):i(b,g,p,t,e,s);if(!(void 0===w?b===g||a(b,g,r,i,s):w)){v=!1;break}y||(y="constructor"==p)}if(v&&!y){var m=t.constructor,_=e.constructor;m==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof m&&m instanceof m&&"function"==typeof _&&_ instanceof _||(v=!1)}return s.delete(t),s.delete(e),v}},9021:(t,e,r)=>{var n=r(5564),o=r(5357),i=r(61);t.exports=function(t){return i(o(t,void 0,n),t+"")}},1957:(t,e,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;t.exports=n},8234:(t,e,r)=>{var n=r(8866),o=r(9551),i=r(3674);t.exports=function(t){return n(t,i,o)}},6904:(t,e,r)=>{var n=r(8866),o=r(1442),i=r(1704);t.exports=function(t){return n(t,i,o)}},5050:(t,e,r)=>{var n=r(7019);t.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},1499:(t,e,r)=>{var n=r(9162),o=r(3674);t.exports=function(t){for(var e=o(t),r=e.length;r--;){var i=e[r],a=t[i];e[r]=[i,a,n(a)]}return e}},852:(t,e,r)=>{var n=r(8458),o=r(7801);t.exports=function(t,e){var r=o(t,e);return n(r)?r:void 0}},5924:(t,e,r)=>{var n=r(5569)(Object.getPrototypeOf,Object);t.exports=n},9607:(t,e,r)=>{var n=r(2705),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=n?n.toStringTag:void 0;t.exports=function(t){var e=i.call(t,s),r=t[s];try{t[s]=void 0;var n=!0}catch(t){}var o=a.call(t);return n&&(e?t[s]=r:delete t[s]),o}},9551:(t,e,r)=>{var n=r(4963),o=r(479),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),n(a(t),(function(e){return i.call(t,e)})))}:o;t.exports=s},1442:(t,e,r)=>{var n=r(2488),o=r(5924),i=r(9551),a=r(479),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)n(e,i(t)),t=o(t);return e}:a;t.exports=s},4160:(t,e,r)=>{var n=r(8552),o=r(7071),i=r(3818),a=r(8525),s=r(577),c=r(4239),u=r(346),l="[object Map]",f="[object Promise]",p="[object Set]",d="[object WeakMap]",h="[object DataView]",v=u(n),y=u(o),b=u(i),g=u(a),w=u(s),m=c;(n&&m(new n(new ArrayBuffer(1)))!=h||o&&m(new o)!=l||i&&m(i.resolve())!=f||a&&m(new a)!=p||s&&m(new s)!=d)&&(m=function(t){var e=c(t),r="[object Object]"==e?t.constructor:void 0,n=r?u(r):"";if(n)switch(n){case v:return h;case y:return l;case b:return f;case g:return p;case w:return d}return e}),t.exports=m},7801:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},222:(t,e,r)=>{var n=r(1811),o=r(5694),i=r(1469),a=r(5776),s=r(1780),c=r(327);t.exports=function(t,e,r){for(var u=-1,l=(e=n(e,t)).length,f=!1;++u<l;){var p=c(e[u]);if(!(f=null!=t&&r(t,p)))break;t=t[p]}return f||++u!=l?f:!!(l=null==t?0:t.length)&&s(l)&&a(p,l)&&(i(t)||o(t))}},1789:(t,e,r)=>{var n=r(4536);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},401:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},7667:(t,e,r)=>{var n=r(4536),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(e,t)?e[t]:void 0}},1327:(t,e,r)=>{var n=r(4536),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:o.call(e,t)}},1866:(t,e,r)=>{var n=r(4536);t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},3824:t=>{var e=Object.prototype.hasOwnProperty;t.exports=function(t){var r=t.length,n=new t.constructor(r);return r&&"string"==typeof t[0]&&e.call(t,"index")&&(n.index=t.index,n.input=t.input),n}},9148:(t,e,r)=>{var n=r(4318),o=r(7157),i=r(3147),a=r(419),s=r(7133);t.exports=function(t,e,r){var c=t.constructor;switch(e){case"[object ArrayBuffer]":return n(t);case"[object Boolean]":case"[object Date]":return new c(+t);case"[object DataView]":return o(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(t,r);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(t);case"[object RegExp]":return i(t);case"[object Set]":return new c;case"[object Symbol]":return a(t)}}},8517:(t,e,r)=>{var n=r(3118),o=r(5924),i=r(5726);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:n(o(t))}},7285:(t,e,r)=>{var n=r(2705),o=r(5694),i=r(1469),a=n?n.isConcatSpreadable:void 0;t.exports=function(t){return i(t)||o(t)||!!(a&&t&&t[a])}},5776:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,r){var n=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&e.test(t))&&t>-1&&t%1==0&&t<r}},6612:(t,e,r)=>{var n=r(7813),o=r(8612),i=r(5776),a=r(3218);t.exports=function(t,e,r){if(!a(r))return!1;var s=typeof e;return!!("number"==s?o(r)&&i(e,r.length):"string"==s&&e in r)&&n(r[e],t)}},5403:(t,e,r)=>{var n=r(1469),o=r(3448),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(n(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!o(t))||a.test(t)||!i.test(t)||null!=e&&t in Object(e)}},7019:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},5346:(t,e,r)=>{var n,o=r(4429),i=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!i&&i in t}},5726:t=>{var e=Object.prototype;t.exports=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||e)}},9162:(t,e,r)=>{var n=r(3218);t.exports=function(t){return t==t&&!n(t)}},7040:t=>{t.exports=function(){this.__data__=[],this.size=0}},4125:(t,e,r)=>{var n=r(8470),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0||(r==e.length-1?e.pop():o.call(e,r,1),--this.size,0))}},2117:(t,e,r)=>{var n=r(8470);t.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},7518:(t,e,r)=>{var n=r(8470);t.exports=function(t){return n(this.__data__,t)>-1}},4705:(t,e,r)=>{var n=r(8470);t.exports=function(t,e){var r=this.__data__,o=n(r,t);return o<0?(++this.size,r.push([t,e])):r[o][1]=e,this}},4785:(t,e,r)=>{var n=r(1989),o=r(8407),i=r(7071);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||o),string:new n}}},1285:(t,e,r)=>{var n=r(5050);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},6e3:(t,e,r)=>{var n=r(5050);t.exports=function(t){return n(this,t).get(t)}},9916:(t,e,r)=>{var n=r(5050);t.exports=function(t){return n(this,t).has(t)}},5265:(t,e,r)=>{var n=r(5050);t.exports=function(t,e){var r=n(this,t),o=r.size;return r.set(t,e),this.size+=r.size==o?0:1,this}},8776:t=>{t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}},2634:t=>{t.exports=function(t,e){return function(r){return null!=r&&r[t]===e&&(void 0!==e||t in Object(r))}}},4523:(t,e,r)=>{var n=r(8306);t.exports=function(t){var e=n(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}},4536:(t,e,r)=>{var n=r(852)(Object,"create");t.exports=n},6916:(t,e,r)=>{var n=r(5569)(Object.keys,Object);t.exports=n},3498:t=>{t.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}},1167:(t,e,r)=>{t=r.nmd(t);var n=r(1957),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,a=i&&i.exports===o&&n.process,s=function(){try{return i&&i.require&&i.require("util").types||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s},2333:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},5569:t=>{t.exports=function(t,e){return function(r){return t(e(r))}}},5357:(t,e,r)=>{var n=r(6874),o=Math.max;t.exports=function(t,e,r){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,a=-1,s=o(i.length-e,0),c=Array(s);++a<s;)c[a]=i[e+a];a=-1;for(var u=Array(e+1);++a<e;)u[a]=i[a];return u[e]=r(c),n(t,this,u)}}},292:(t,e,r)=>{var n=r(7786),o=r(4259);t.exports=function(t,e){return e.length<2?t:n(t,o(e,0,-1))}},5639:(t,e,r)=>{var n=r(1957),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();t.exports=i},619:t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},2385:t=>{t.exports=function(t){return this.__data__.has(t)}},1814:t=>{t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}},61:(t,e,r)=>{var n=r(6560),o=r(1275)(n);t.exports=o},1275:t=>{var e=Date.now;t.exports=function(t){var r=0,n=0;return function(){var o=e(),i=16-(o-n);if(n=o,i>0){if(++r>=800)return arguments[0]}else r=0;return t.apply(void 0,arguments)}}},7465:(t,e,r)=>{var n=r(8407);t.exports=function(){this.__data__=new n,this.size=0}},3779:t=>{t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},7599:t=>{t.exports=function(t){return this.__data__.get(t)}},4758:t=>{t.exports=function(t){return this.__data__.has(t)}},4309:(t,e,r)=>{var n=r(8407),o=r(7071),i=r(3369);t.exports=function(t,e){var r=this.__data__;if(r instanceof n){var a=r.__data__;if(!o||a.length<199)return a.push([t,e]),this.size=++r.size,this;r=this.__data__=new i(a)}return r.set(t,e),this.size=r.size,this}},2351:t=>{t.exports=function(t,e,r){for(var n=r-1,o=t.length;++n<o;)if(t[n]===e)return n;return-1}},5514:(t,e,r)=>{var n=r(4523),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=n((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,(function(t,r,n,o){e.push(n?o.replace(i,"$1"):r||t)})),e}));t.exports=a},327:(t,e,r)=>{var n=r(3448);t.exports=function(t){if("string"==typeof t||n(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},346:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},7990:t=>{var e=/\s/;t.exports=function(t){for(var r=t.length;r--&&e.test(t.charAt(r)););return r}},5703:t=>{t.exports=function(t){return function(){return t}}},7813:t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},5564:(t,e,r)=>{var n=r(1078);t.exports=function(t){return null!=t&&t.length?n(t,1):[]}},7361:(t,e,r)=>{var n=r(7786);t.exports=function(t,e,r){var o=null==t?void 0:n(t,e);return void 0===o?r:o}},9095:(t,e,r)=>{var n=r(13),o=r(222);t.exports=function(t,e){return null!=t&&o(t,e,n)}},6557:t=>{t.exports=function(t){return t}},5694:(t,e,r)=>{var n=r(9454),o=r(7005),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(t){return o(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=c},1469:t=>{var e=Array.isArray;t.exports=e},8612:(t,e,r)=>{var n=r(3560),o=r(1780);t.exports=function(t){return null!=t&&o(t.length)&&!n(t)}},4144:(t,e,r)=>{t=r.nmd(t);var n=r(5639),o=r(5062),i=e&&!e.nodeType&&e,a=i&&t&&!t.nodeType&&t,s=a&&a.exports===i?n.Buffer:void 0,c=(s?s.isBuffer:void 0)||o;t.exports=c},8446:(t,e,r)=>{var n=r(939);t.exports=function(t,e){return n(t,e)}},3560:(t,e,r)=>{var n=r(4239),o=r(3218);t.exports=function(t){if(!o(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},1780:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},6688:(t,e,r)=>{var n=r(5588),o=r(1717),i=r(1167),a=i&&i.isMap,s=a?o(a):n;t.exports=s},3218:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},7005:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},8630:(t,e,r)=>{var n=r(4239),o=r(5924),i=r(7005),a=Function.prototype,s=Object.prototype,c=a.toString,u=s.hasOwnProperty,l=c.call(Object);t.exports=function(t){if(!i(t)||"[object Object]"!=n(t))return!1;var e=o(t);if(null===e)return!0;var r=u.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&c.call(r)==l}},2928:(t,e,r)=>{var n=r(9221),o=r(1717),i=r(1167),a=i&&i.isSet,s=a?o(a):n;t.exports=s},3448:(t,e,r)=>{var n=r(4239),o=r(7005);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==n(t)}},6719:(t,e,r)=>{var n=r(8749),o=r(1717),i=r(1167),a=i&&i.isTypedArray,s=a?o(a):n;t.exports=s},3674:(t,e,r)=>{var n=r(4636),o=r(280),i=r(8612);t.exports=function(t){return i(t)?n(t):o(t)}},1704:(t,e,r)=>{var n=r(4636),o=r(313),i=r(8612);t.exports=function(t){return i(t)?n(t,!0):o(t)}},928:t=>{t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},8306:(t,e,r)=>{var n=r(3369);function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(o.Cache||n),r}o.Cache=n,t.exports=o},308:t=>{t.exports=function(){}},7557:(t,e,r)=>{var n=r(9932),o=r(5990),i=r(7406),a=r(1811),s=r(8363),c=r(696),u=r(9021),l=r(6904),f=u((function(t,e){var r={};if(null==t)return r;var u=!1;e=n(e,(function(e){return e=a(e,t),u||(u=e.length>1),e})),s(t,l(t),r),u&&(r=o(r,7,c));for(var f=e.length;f--;)i(r,e[f]);return r}));t.exports=f},9601:(t,e,r)=>{var n=r(371),o=r(9152),i=r(5403),a=r(327);t.exports=function(t){return i(t)?n(a(t)):o(t)}},3608:(t,e,r)=>{var n=r(9877),o=r(6612),i=r(8601),a=parseFloat,s=Math.min,c=Math.random;t.exports=function(t,e,r){if(r&&"boolean"!=typeof r&&o(t,e,r)&&(e=r=void 0),void 0===r&&("boolean"==typeof e?(r=e,e=void 0):"boolean"==typeof t&&(r=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=i(t),void 0===e?(e=t,t=0):e=i(e)),t>e){var u=t;t=e,e=u}if(r||t%1||e%1){var l=c();return s(t+l*(e-t+a("1e-"+((l+"").length-1))),e)}return n(t,e)}},479:t=>{t.exports=function(){return[]}},5062:t=>{t.exports=function(){return!1}},8601:(t,e,r)=>{var n=r(4841);t.exports=function(t){return t?Infinity===(t=n(t))||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},4841:(t,e,r)=>{var n=r(7561),o=r(3218),i=r(3448),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return NaN;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=n(t);var r=s.test(t);return r||c.test(t)?u(t.slice(2),r?2:8):a.test(t)?NaN:+t}},9833:(t,e,r)=>{var n=r(531);t.exports=function(t){return null==t?"":n(t)}},4908:(t,e,r)=>{var n=r(5652);t.exports=function(t){return t&&t.length?n(t):[]}},5578:(t,e,r)=>{var n=r(7206),o=r(5652);t.exports=function(t,e){return t&&t.length?o(t,n(e,2)):[]}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={id:n,loaded:!1,exports:{}};return t[n](i,i.exports,r),i.loaded=!0,i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var n={};return(()=>{"use strict";var t,e,o;r.r(n),r.d(n,{ACTION:()=>qa,addAction:()=>Ya,addActiveDataAction:()=>Ka,addInteraction:()=>es,default:()=>ss,getActions:()=>Za,getAllActions:()=>Qa,getContext:()=>as,getGalactusUserProfile:()=>is,getUserProfile:()=>ts,getVersionHash:()=>os,isCrossdomainFinished:()=>rs,isInitialized:()=>ns,registerClient:()=>Xa,trackPageview:()=>$a}),function(t){t.INIT="roots-initial",t.LOADED="roots-loaded"}(t||(t={})),function(t){t.SS_PRE_BOOTSTRAP="ss_pre_bootstrap",t.SS_SDK_START="ss_sdk_start",t.SS_SDK_LOADED="ss_sdk_loaded",t.SS_SDK_READY="ss_sdk_ready",t.SS_CROSS_DOMAIN_READY="ss_cross_domain_ready",t.SS_CROSS_DOMAIN_REGISTER_START="ss_cross_domain_register_start",t.SS_CROSS_DOMAIN_REGISTER_ALL_PAGES_DONE="ss_cross_domain_register_all_pages_done"}(e||(e={})),function(t){t.PF_START="pf_start",t.PF_LOADED="pf_loaded",t.PF_READY="pf_ready"}(o||(o={}));var i,a,s=Date.now(),c=Object.values({SilverSurfer:"silversurfer",PathfinderExperiments:"pf-experiments"}),u=function(t,e){for(var r=0,n=e.length,o=t.length;r<n;r++,o++)t[o]=e[r];return t};!function(t){t.CATEGORY="category",t.EVENT="event",t.LABEL="label",t.ACTION="action",t.VALUE="value",t.NON_INTERACTIVE="nonInteractive",t.IS_DEBUG="isDebug"}(i||(i={})),function(t){t.EXPERIMENT_VARIANT="experimentVariant",t.SS_VERSION="silverSurferVersion",t.AD_PVUID="pvUID",t.BEACON_ID="beaconId"}(a||(a={}));const l=u(u([],Object.values(a)),Object.values(i));function f(t){if(t.isDebug=!!t.isDebug,t.event){if(window.dataLayer=window.dataLayer||[],t.category||(t.category=t.event),t.label||(t.label=t.category),t.isDebug){r=t.event,c.some((function(t){return r.includes(t)}))||console.warn("[Tracking] GTM event not caught",t.event);var e=l;Object.keys(t).every((function(t){return!!e.includes(t)||(console.warn("[Tracking] Element not enabled in DW",t),!1)}))}return function(t){return window.__datalayer_pre=window.__datalayer_pre||[],function(){var t,e,r;return null!==(r=null===(e=null===(t=null===window||void 0===window?void 0:window.google_tag_manager)||void 0===t?void 0:t.dataLayer)||void 0===e?void 0:e.gtmDom)&&void 0!==r&&r}()?(window.__datalayer_pre.length>0&&(window.__datalayer_pre.forEach((function(t){return window.dataLayer.push(t)})),window.__datalayer_pre=[]),window.dataLayer.push(t)):window.__datalayer_pre.push(t)}(t)}var r;return console.error("[Tracking] missing 'event' field",t),null}var p=function(){return(p=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function d(t,e){var r=function(r){var n=p(p({nonInteractive:!0},t),r);return e(n),n};return r.click=function(e){return r(p(p(p({},t),e),{action:"click",nonInteractive:!1}))},r.impression=function(e){return r(p(p(p({},t),e),{action:"impression",nonInteractive:!0}))},r.loaded=function(e){return r(p(p(p({},t),e),{action:"loaded",nonInteractive:!0}))},r.extend=function(r){return d(p(p({},t),r),e)},r}function h(t,e){var r=p({},t);if(!r.event&&!r.category)throw console.error("[Tracking] Missing event or category field",r),new Error("Missing event or category field");return r.category||(r.category=r.event),r.event||(r.event=r.category),d(r,e)}function v(t){return h(t,f)}function y(){return!!window.location.search.includes("ss_debug")||b()}h({category:"base-tracker"},f);var b=function(){return/^localhost/.test(location.hostname)||"127.0.0.1"===location.hostname},g=v({event:"browser-client-timings"}),w="__tracking_timings_random";var m=new Map;function _(t,e){var r,n;m.set(t,e),r=t,n=e,(y()||(window[w]||(window[w]=Math.random()),window[w]<=.005))&&g({category:"timings-event-"+r,label:n.toString(),action:"timed",value:n})}function S(t){try{var e=Math.round(Date.now()-function(){var t,e;return null!==(e=null===(t=window.performance)||void 0===t?void 0:t.timeOrigin)&&void 0!==e?e:s}());return _(t,e),y()&&console.log("Timing",t,e),e}catch(t){console.error("TimingRecord Error",t)}}function O(t){var e=document.cookie.match(RegExp("(?:^|;\\s*)"+function(t){return t.replace(/([.*+?\^$(){}|\[\]\/\\])/g,"\\$1")}(t)+"=([^;]*)"));return e?e[1]:null}const E=function(){var t;return null!==(t=O("wikia_beacon_id"))&&void 0!==t?t:null};var x=r(7557),I=r.n(x),A={profileId:null,namespaces:{adTags:{},devices:{set:[]},locations:{set:[]},languages:{contentLanguages:[],acceptLanguages:[]}}},j=function(){return(j=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},k=function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))},T=function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},N="silver_surfer_tracking_key_v2",C="silver_surfer_actions_v2",D="silver_surfer_interactions_v2";function P(){return k(this,void 0,void 0,(function(){var t;return T(this,(function(e){switch(e.label){case 0:return[4,U()];case 1:return t=[e.sent()],[4,V()];case 2:return t=t.concat([e.sent()]),[4,F()];case 3:return[2,4*t.concat([e.sent()]).map((function(t){return JSON.stringify(t).length})).reduce((function(t,e){return t+e}),0)]}}))}))}var L=function(t){return"silver-surfer-galactus-fallback-user-profile-v2_"+t};function R(t){return k(this,void 0,void 0,(function(){var e,r;return T(this,(function(n){return(e=localStorage.getItem(L(t)))&&(r=JSON.parse(e))&&4===r.apiVersion?[2,I()(r,"apiVersion")]:[2,null]}))}))}function M(t,e){return k(this,void 0,void 0,(function(){return T(this,(function(r){try{localStorage.setItem(L(t),JSON.stringify(j(j({},e),{apiVersion:4})))}catch(t){return[2,!1]}return[2,!0]}))}))}function B(t){return k(this,void 0,void 0,(function(){return T(this,(function(e){try{localStorage.setItem(D,JSON.stringify(t))}catch(t){return[2,!1]}return[2,!0]}))}))}function F(){return k(this,void 0,void 0,(function(){var t;return T(this,(function(e){return(t=localStorage.getItem(D))?[2,JSON.parse(t)]:[2,{}]}))}))}function z(t){return k(this,void 0,void 0,(function(){return T(this,(function(e){try{localStorage.setItem(N,JSON.stringify(t))}catch(t){return[2,!1]}return[2,!0]}))}))}function U(){return k(this,void 0,void 0,(function(){var t;return T(this,(function(e){return(t=localStorage.getItem(N))?[2,JSON.parse(t)]:[2,[]]}))}))}function G(t){return k(this,void 0,void 0,(function(){return T(this,(function(e){try{localStorage.setItem(C,JSON.stringify(t))}catch(t){return[2,!1]}return[2,!0]}))}))}function V(){return k(this,void 0,void 0,(function(){var t;return T(this,(function(e){return(t=localStorage.getItem(C))?[2,JSON.parse(t)]:[2,[]]}))}))}let H,W;const J=new WeakMap,q=new WeakMap,$=new WeakMap,X=new WeakMap,K=new WeakMap;let Y={get(t,e,r){if(t instanceof IDBTransaction){if("done"===e)return q.get(t);if("objectStoreNames"===e)return t.objectStoreNames||$.get(t);if("store"===e)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Q(t[e])},set:(t,e,r)=>(t[e]=r,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Z(t){return"function"==typeof t?(e=t)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(W||(W=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(tt(this),t),Q(J.get(this))}:function(...t){return Q(e.apply(tt(this),t))}:function(t,...r){const n=e.call(tt(this),t,...r);return $.set(n,t.sort?t.sort():[t]),Q(n)}:(t instanceof IDBTransaction&&function(t){if(q.has(t))return;const e=new Promise(((e,r)=>{const n=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{e(),n()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),n()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)}));q.set(t,e)}(t),r=t,(H||(H=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((t=>r instanceof t))?new Proxy(t,Y):t);var e,r}function Q(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,r)=>{const n=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{e(Q(t.result)),n()},i=()=>{r(t.error),n()};t.addEventListener("success",o),t.addEventListener("error",i)}));return e.then((e=>{e instanceof IDBCursor&&J.set(e,t)})).catch((()=>{})),K.set(e,t),e}(t);if(X.has(t))return X.get(t);const e=Z(t);return e!==t&&(X.set(t,e),K.set(e,t)),e}const tt=t=>K.get(t);function et(t,e,{blocked:r,upgrade:n,blocking:o,terminated:i}={}){const a=indexedDB.open(t,e),s=Q(a);return n&&a.addEventListener("upgradeneeded",(t=>{n(Q(a.result),t.oldVersion,t.newVersion,Q(a.transaction))})),r&&a.addEventListener("blocked",(()=>r())),s.then((t=>{i&&t.addEventListener("close",(()=>i())),o&&t.addEventListener("versionchange",(()=>o()))})).catch((()=>{})),s}const rt=["get","getKey","getAll","getAllKeys","count"],nt=["put","add","delete","clear"],ot=new Map;function it(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(ot.get(e))return ot.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,o=nt.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!o&&!rt.includes(r))return;const i=async function(t,...e){const i=this.transaction(t,o?"readwrite":"readonly");let a=i.store;return n&&(a=a.index(e.shift())),(await Promise.all([a[r](...e),o&&i.done]))[0]};return ot.set(e,i),i}var at;at=Y,Y={...at,get:(t,e,r)=>it(t,e)||at.get(t,e,r),has:(t,e)=>!!it(t,e)||at.has(t,e)};var st=r(558),ct={DEBUG:"ss_debug",BRANCH:"ss_branch_deploy",CANARY:"ss_canary",ENABLED_PATHFINDER_MODULE:"ss_pathfinder_enable",FORCED_PATHFINDER:"ss_pathfinder_forced",FORCED_BUCKETING:"ss_pathfinder_force_bucket"},ut=b,lt=(null==="347321b3\n"?void 0:"347321b3\n".replace(/\n/g,""))||"local",ft=function(t){return window.location.search.includes(t)},pt=function(){return ft(ct.DEBUG+"=true")},dt=function(t,e){for(var r=0,n=e.length,o=t.length;r<n;r++,o++)t[o]=e[r];return t};function ht(){}var vt=Date.now();function yt(){var t,e;return((Date.now()-(null!==(e=null===(t=window.performance)||void 0===t?void 0:t.timeOrigin)&&void 0!==e?e:vt))/1e3).toFixed(4)}function bt(t){return"error"===t?console.error:"debug"===t?pt()||ut()?console.debug:ht:console.log}var gt=function(t,e,r,n){for(var o=[],i=4;i<arguments.length;i++)o[i-4]=arguments[i];var a=bt(t),s="%c"+e+" | "+yt()+"s | "+n;o.length?a.apply(void 0,dt([s,r],o)):a(s,r)};const wt=function(t,e,r){return void 0===r&&(r=[]),function(n){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];return gt.apply(void 0,dt([e,t,r.join(";"),n],o))}};function mt(t){return["background-color: silver;","padding: 2px 4px","border-radius: 2px","color: "+t]}const _t={info:wt("SilverSurfer","info",mt("#000")),debug:wt("SilverSurfer","debug",mt("#330")),error:wt("SilverSurfer","error",mt("#300"))};var St=function(){return(St=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ot=function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))},Et=function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},xt="page-view-table",It="actions-table",At="interactions-table",jt="current",kt="galactus-fallback-user-profile-table",Tt=!1;function Nt(){return Ot(this,void 0,void 0,(function(){var t;return Et(this,(function(e){switch(e.label){case 0:if(Tt)return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,et("silver-surfer",4,{upgrade:function(t,e,r,n){t.objectStoreNames.contains(xt)||t.createObjectStore(xt),t.objectStoreNames.contains(kt)||t.createObjectStore(kt),t.objectStoreNames.contains(It)||t.createObjectStore(It,{autoIncrement:!0}),t.objectStoreNames.contains(At)||t.createObjectStore(At)},blocked:function(){},blocking:function(){},terminated:function(){}})];case 2:return[2,e.sent()];case 3:return t=e.sent(),_t.error("Cannot access indexedDB:",t),Tt=!0,[3,4];case 4:return[2]}}))}))}var Ct=function(t){return"user-profile-"+t};function Dt(t){return Ot(this,void 0,void 0,(function(){var e,r;return Et(this,(function(n){switch(n.label){case 0:return[4,Nt()];case 1:return[4,null==(e=n.sent())?void 0:e.get(kt,Ct(t))];case 2:return(r=n.sent())&&4===r.apiVersion?[2,I()(r,"apiVersion")]:[2,null]}}))}))}function Pt(t,e){return Ot(this,void 0,void 0,(function(){var r,n,o;return Et(this,(function(i){switch(i.label){case 0:return[4,Nt()];case 1:return r=i.sent(),n=Ct(t),o=St(St({},e),{apiVersion:4}),[4,null==r?void 0:r.put(kt,o,n)];case 2:return[2,i.sent()===n]}}))}))}function Lt(){var t;return Ot(this,void 0,void 0,(function(){var e,r,n;return Et(this,(function(o){switch(o.label){case 0:return[4,Nt()];case 1:return[4,null==(e=o.sent())?void 0:e.getAllKeys(xt)];case 2:return r=null!==(t=o.sent())&&void 0!==t?t:[],[4,null==e?void 0:e.getAll(xt)];case 3:return n=o.sent(),[2,r.map((function(t,e){return St({id:t},n[e])}))]}}))}))}function Rt(t){return Ot(this,void 0,void 0,(function(){var e,r,n,o=this;return Et(this,(function(i){switch(i.label){case 0:return[4,Nt()];case 1:return e=i.sent(),(null==(r=null==e?void 0:e.transaction(xt,"readwrite",{durability:"strict"}))?void 0:r.store)?[4,r.store.clear()]:[2,!1];case 2:return i.sent(),n=!0,t.forEach((function(t){return Ot(o,void 0,void 0,(function(){var e,o,i;return Et(this,(function(a){switch(a.label){case 0:return e=t.id,o=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r}(t,["id"]),[4,r.store.put(o,e)];case 1:return i=a.sent(),n&&(n=i===e),[2]}}))}))})),[4,r.done];case 3:return i.sent(),[2,n]}}))}))}function Mt(t){return Ot(this,void 0,void 0,(function(){var e;return Et(this,(function(r){switch(r.label){case 0:return[4,Nt()];case 1:return[4,null==(e=r.sent())?void 0:e.put(At,t,jt)];case 2:return[2,r.sent()===jt]}}))}))}function Bt(){var t;return Ot(this,void 0,void 0,(function(){var e;return Et(this,(function(r){switch(r.label){case 0:return[4,Nt()];case 1:return[4,null==(e=r.sent())?void 0:e.get(At,jt)];case 2:return[2,null!==(t=r.sent())&&void 0!==t?t:{}]}}))}))}function Ft(){return Ot(this,void 0,void 0,(function(){var t;return Et(this,(function(e){switch(e.label){case 0:return[4,Nt()];case 1:return[4,null==(t=e.sent())?void 0:t.getAll(It)];case 2:return[2,e.sent()]}}))}))}function zt(t){return Ot(this,void 0,void 0,(function(){var e,r,n,o=this;return Et(this,(function(i){switch(i.label){case 0:return[4,Nt()];case 1:return e=i.sent(),(null==(r=null==e?void 0:e.transaction(It,"readwrite",{durability:"strict"}))?void 0:r.store)?[4,r.store.clear()]:[2,!1];case 2:return i.sent(),n=!0,t.forEach((function(t){return Ot(o,void 0,void 0,(function(){var e;return Et(this,(function(o){switch(o.label){case 0:return[4,r.store.put(t)];case 1:return e=o.sent(),n&&(n=!!e),[2]}}))}))})),[4,r.done];case 3:return i.sent(),[2,n]}}))}))}function Ut(){return Ot(this,void 0,void 0,(function(){var t,e,r,n;return Et(this,(function(o){switch(o.label){case 0:return[4,Nt()];case 1:return t=o.sent(),e=0,[4,null==t?void 0:t.transaction(xt).store.openCursor()];case 2:r=o.sent(),o.label=3;case 3:return r?(e+=JSON.stringify(r.value).length,[4,r.continue()]):[3,5];case 4:return r=o.sent(),[3,3];case 5:return[4,null==t?void 0:t.transaction(It).store.openCursor()];case 6:n=o.sent(),o.label=7;case 7:return n?(e+=JSON.stringify(n.value).length,[4,n.continue()]):[3,9];case 8:return n=o.sent(),[3,7];case 9:return[2,4*e]}}))}))}var Gt,Vt=function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))},Ht=function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function Wt(t){if(void 0===t&&(t=Gt.BOTH),t===Gt.INDEXEDDB)return!1;try{return!!(null===window||void 0===window?void 0:window.localStorage)}catch(t){return!1}}function Jt(t){if(void 0===t&&(t=Gt.BOTH),t===Gt.LOCALSTORAGE)return!1;try{return!!(null===window||void 0===window?void 0:window.indexedDB)}catch(t){return!1}}function qt(t){return Vt(this,void 0,void 0,(function(){return Ht(this,(function(e){switch(e.label){case 0:return Jt()?[4,Dt(t)]:[3,2];case 1:return[2,e.sent()];case 2:return Wt()?[4,R(t)]:[3,4];case 3:return[2,e.sent()];case 4:return[2,null]}}))}))}function $t(t){return void 0===t&&(t=Gt.BOTH),Vt(this,void 0,void 0,(function(){return Ht(this,(function(e){switch(e.label){case 0:return Jt(t)?[4,Lt()]:[3,2];case 1:return[2,e.sent()];case 2:return Wt(t)?[4,U()]:[3,4];case 3:return[2,e.sent()];case 4:return[2,[]]}}))}))}function Xt(t){return void 0===t&&(t=Gt.BOTH),Vt(this,void 0,void 0,(function(){return Ht(this,(function(e){switch(e.label){case 0:return Jt(t)?[4,Ft()]:[3,2];case 1:return[2,e.sent()];case 2:return Wt(t)?[4,V()]:[3,4];case 3:return[2,e.sent()];case 4:return[2,[]]}}))}))}function Kt(t){return void 0===t&&(t=Gt.BOTH),Vt(this,void 0,void 0,(function(){return Ht(this,(function(e){switch(e.label){case 0:return Jt(t)?[4,Bt()]:[3,2];case 1:return[2,e.sent()];case 2:return Wt(t)?[4,F()]:[3,4];case 3:return[2,e.sent()];case 4:return[2,{}]}}))}))}function Yt(t){return void 0===t&&(t=Gt.BOTH),Vt(this,void 0,void 0,(function(){var e,r,n,o;return Ht(this,(function(i){switch(i.label){case 0:if(e=-1,r=-1,!Jt(t))return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,P()];case 2:return e=i.sent(),[3,4];case 3:return n=i.sent(),_t.debug("Error while getting localStorage size",n),[3,4];case 4:if(!Wt(t))return[3,8];i.label=5;case 5:return i.trys.push([5,7,,8]),[4,Ut()];case 6:return r=i.sent(),[3,8];case 7:return o=i.sent(),_t.debug("Error while getting indexedDB size",o),[3,8];case 8:return[2,{localStorageSize:e,indexedDBSize:r}]}}))}))}function Zt(t,e,r,n){var o;void 0===n&&(n={}),console.error("logErrorEvent",r,n),o={client:t,clientVersion:e,name:r,data:n},window.TrackJS&&window.TrackJS.track&&window.TrackJS.track(o)}!function(t){t.BOTH="both",t.INDEXEDDB="indexeddb",t.LOCALSTORAGE="localstorage"}(Gt||(Gt={}));var Qt=function(t,e){return function(r,n){return void 0===n&&(n={}),Zt(t,e,r,n)}},te=function(t,e){return function(r,n){return Zt(t,e,r,function(t){return{ok:t.ok,redirected:t.redirected,status:t.status,statusText:t.statusText,type:t.type,url:t.url}}(n))}},ee=("silver-surfer",lt,Qt("silver-surfer",lt),te("silver-surfer",lt)),re=function(){return(re=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ne=function(t){return function(e,r){return void 0===r&&(r={}),fetch((0,st.sH)()+e,re({mode:"cors",credentials:"include"},r)).then((function(r){return r.ok||401===r.status||404===r.status||("function"==typeof t?t(e,r):console.error("callFandomServiceFactory Error",{url:(0,st.sH)()+e,response:r})),r}))}},oe=function(t){return function(e,r,n){return void 0===n&&(n={}),fetch((0,st.sH)()+e,re({method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify(r)},n)).then((function(r){return r.ok||401===r.status||404===r.status||("function"==typeof t?t(e,r):console.error("callFandomServiceFactory Error",{url:(0,st.sH)()+e,response:r})),r}))}},ie=ne(ee),ae=(oe(ee),r(9996)),se=r.n(ae);function ce(t){var e=0;return function(){return new Promise((function(r,n){var o=setInterval((function(){t.eventCheck()&&(clearInterval(o),r(null==t?void 0:t.onResolve())),t.intervalTime*e>t.maxWaitTime&&(clearInterval(o),n(null==t?void 0:t.onReject())),e++}),t.intervalTime)}))}}var ue=function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))},le=function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function fe(){return ue(this,void 0,void 0,(function(){var t;return le(this,(function(e){switch(e.label){case 0:return[4,ce({eventCheck:function(){var t;return!!(null===(t=null===window||void 0===window?void 0:window.ads)||void 0===t?void 0:t.pushToConsentQueue)},intervalTime:50,maxWaitTime:3e3,onReject:function(){return!1},onResolve:function(){return!0}})()];case 1:return t=e.sent(),[2,new Promise((function(e,r){t||(_t.error("window.ads took too long to load"),r(!1)),window.ads.pushToConsentQueue((function(t){t.gdprConsent?e(!0):(_t.error("GDPR Status failed"),r(!1))}))}))]}}))}))}function pe(t){return ue(this,void 0,void 0,(function(){var e,r,n,o,i,a;return le(this,(function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),e=void 0,pt()&&((r=new Headers).set("X-Fandom-Debug-GID","1"),e={headers:r}),[4,fe()];case 1:return s.sent(),[4,ie("galactus-user-profile/profiles/"+t,e)];case 2:return 200!==(n=s.sent()).status?[3,4]:[4,n.json()];case 3:return o=s.sent(),i=function(t){return se()(A,t)}(o),_t.debug("Galactus API response",i),[2,i];case 4:return[3,6];case 5:return a=s.sent(),_t.error("Failed to fetch profile",a),[3,6];case 6:return[2,null]}}))}))}function de(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+t+(r.length?" "+r.map((function(t){return"'"+t+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function he(t){return!!t&&!!t[tr]}function ve(t){return!!t&&(function(t){if(!t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;var r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===er}(t)||Array.isArray(t)||!!t[Qe]||!!t.constructor[Qe]||_e(t)||Se(t))}function ye(t,e,r){void 0===r&&(r=!1),0===be(t)?(r?Object.keys:rr)(t).forEach((function(n){r&&"symbol"==typeof n||e(n,t[n],t)})):t.forEach((function(r,n){return e(n,r,t)}))}function be(t){var e=t[tr];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:_e(t)?2:Se(t)?3:0}function ge(t,e){return 2===be(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function we(t,e,r){var n=be(t);2===n?t.set(e,r):3===n?(t.delete(e),t.add(r)):t[e]=r}function me(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function _e(t){return Xe&&t instanceof Map}function Se(t){return Ke&&t instanceof Set}function Oe(t){return t.o||t.t}function Ee(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=nr(t);delete e[tr];for(var r=rr(e),n=0;n<r.length;n++){var o=r[n],i=e[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(e[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:t[o]})}return Object.create(Object.getPrototypeOf(t),e)}function xe(t,e){return void 0===e&&(e=!1),Ae(t)||he(t)||!ve(t)||(be(t)>1&&(t.set=t.add=t.clear=t.delete=Ie),Object.freeze(t),e&&ye(t,(function(t,e){return xe(e,!0)}),!0)),t}function Ie(){de(2)}function Ae(t){return null==t||"object"!=typeof t||Object.isFrozen(t)}function je(t){var e=or[t];return e||de(18,t),e}function ke(){return qe}function Te(t,e){e&&(je("Patches"),t.u=[],t.s=[],t.v=e)}function Ne(t){Ce(t),t.p.forEach(Pe),t.p=null}function Ce(t){t===qe&&(qe=t.l)}function De(t){return qe={p:[],l:qe,h:t,m:!0,_:0}}function Pe(t){var e=t[tr];0===e.i||1===e.i?e.j():e.O=!0}function Le(t,e){e._=e.p.length;var r=e.p[0],n=void 0!==t&&t!==r;return e.h.g||je("ES5").S(e,t,n),n?(r[tr].P&&(Ne(e),de(4)),ve(t)&&(t=Re(e,t),e.l||Be(e,t)),e.u&&je("Patches").M(r[tr],t,e.u,e.s)):t=Re(e,r,[]),Ne(e),e.u&&e.v(e.u,e.s),t!==Ze?t:void 0}function Re(t,e,r){if(Ae(e))return e;var n=e[tr];if(!n)return ye(e,(function(o,i){return Me(t,n,e,o,i,r)}),!0),e;if(n.A!==t)return e;if(!n.P)return Be(t,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var o=4===n.i||5===n.i?n.o=Ee(n.k):n.o;ye(3===n.i?new Set(o):o,(function(e,i){return Me(t,n,o,e,i,r)})),Be(t,o,!1),r&&t.u&&je("Patches").R(n,r,t.u,t.s)}return n.o}function Me(t,e,r,n,o,i){if(he(o)){var a=Re(t,o,i&&e&&3!==e.i&&!ge(e.D,n)?i.concat(n):void 0);if(we(r,n,a),!he(a))return;t.m=!1}if(ve(o)&&!Ae(o)){if(!t.h.F&&t._<1)return;Re(t,o),e&&e.A.l||Be(t,o)}}function Be(t,e,r){void 0===r&&(r=!1),t.h.F&&t.m&&xe(e,r)}function Fe(t,e){var r=t[tr];return(r?Oe(r):t)[e]}function ze(t,e){if(e in t)for(var r=Object.getPrototypeOf(t);r;){var n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Object.getPrototypeOf(r)}}function Ue(t){t.P||(t.P=!0,t.l&&Ue(t.l))}function Ge(t){t.o||(t.o=Ee(t.t))}function Ve(t,e,r){var n=_e(e)?je("MapSet").N(e,r):Se(e)?je("MapSet").T(e,r):t.g?function(t,e){var r=Array.isArray(t),n={i:r?1:0,A:e?e.A:ke(),P:!1,I:!1,D:{},l:e,t,k:null,o:null,j:null,C:!1},o=n,i=ir;r&&(o=[n],i=ar);var a=Proxy.revocable(o,i),s=a.revoke,c=a.proxy;return n.k=c,n.j=s,c}(e,r):je("ES5").J(e,r);return(r?r.A:ke()).p.push(n),n}function He(t){return he(t)||de(22,t),function t(e){if(!ve(e))return e;var r,n=e[tr],o=be(e);if(n){if(!n.P&&(n.i<4||!je("ES5").K(n)))return n.t;n.I=!0,r=We(e,o),n.I=!1}else r=We(e,o);return ye(r,(function(e,o){n&&function(t,e){return 2===be(t)?t.get(e):t[e]}(n.t,e)===o||we(r,e,t(o))})),3===o?new Set(r):r}(t)}function We(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return Ee(t)}var Je,qe,$e="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Xe="undefined"!=typeof Map,Ke="undefined"!=typeof Set,Ye="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Ze=$e?Symbol.for("immer-nothing"):((Je={})["immer-nothing"]=!0,Je),Qe=$e?Symbol.for("immer-draftable"):"__$immer_draftable",tr=$e?Symbol.for("immer-state"):"__$immer_state",er=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),rr="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,nr=Object.getOwnPropertyDescriptors||function(t){var e={};return rr(t).forEach((function(r){e[r]=Object.getOwnPropertyDescriptor(t,r)})),e},or={},ir={get:function(t,e){if(e===tr)return t;var r=Oe(t);if(!ge(r,e))return function(t,e,r){var n,o=ze(e,r);return o?"value"in o?o.value:null===(n=o.get)||void 0===n?void 0:n.call(t.k):void 0}(t,r,e);var n=r[e];return t.I||!ve(n)?n:n===Fe(t.t,e)?(Ge(t),t.o[e]=Ve(t.A.h,n,t)):n},has:function(t,e){return e in Oe(t)},ownKeys:function(t){return Reflect.ownKeys(Oe(t))},set:function(t,e,r){var n=ze(Oe(t),e);if(null==n?void 0:n.set)return n.set.call(t.k,r),!0;if(!t.P){var o=Fe(Oe(t),e),i=null==o?void 0:o[tr];if(i&&i.t===r)return t.o[e]=r,t.D[e]=!1,!0;if(me(r,o)&&(void 0!==r||ge(t.t,e)))return!0;Ge(t),Ue(t)}return t.o[e]===r&&"number"!=typeof r&&(void 0!==r||e in t.o)||(t.o[e]=r,t.D[e]=!0,!0)},deleteProperty:function(t,e){return void 0!==Fe(t.t,e)||e in t.t?(t.D[e]=!1,Ge(t),Ue(t)):delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var r=Oe(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n?{writable:!0,configurable:1!==t.i||"length"!==e,enumerable:n.enumerable,value:r[e]}:n},defineProperty:function(){de(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){de(12)}},ar={};ye(ir,(function(t,e){ar[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),ar.deleteProperty=function(t,e){return ir.deleteProperty.call(this,t[0],e)},ar.set=function(t,e,r){return ir.set.call(this,t[0],e,r,t[0])};var sr=new(function(){function t(t){var e=this;this.g=Ye,this.F=!0,this.produce=function(t,r,n){if("function"==typeof t&&"function"!=typeof r){var o=r;r=t;var i=e;return function(t){var e=this;void 0===t&&(t=o);for(var n=arguments.length,a=Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return i.produce(t,(function(t){var n;return(n=r).call.apply(n,[e,t].concat(a))}))}}var a;if("function"!=typeof r&&de(6),void 0!==n&&"function"!=typeof n&&de(7),ve(t)){var s=De(e),c=Ve(e,t,void 0),u=!0;try{a=r(c),u=!1}finally{u?Ne(s):Ce(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(t){return Te(s,n),Le(t,s)}),(function(t){throw Ne(s),t})):(Te(s,n),Le(a,s))}if(!t||"object"!=typeof t){if((a=r(t))===Ze)return;return void 0===a&&(a=t),e.F&&xe(a,!0),a}de(21,t)},this.produceWithPatches=function(t,r){return"function"==typeof t?function(r){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return e.produceWithPatches(r,(function(e){return t.apply(void 0,[e].concat(o))}))}:[e.produce(t,r,(function(t,e){n=t,o=e})),n,o];var n,o},"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze)}var e=t.prototype;return e.createDraft=function(t){ve(t)||de(8),he(t)&&(t=He(t));var e=De(this),r=Ve(this,t,void 0);return r[tr].C=!0,Ce(e),r},e.finishDraft=function(t,e){var r=(t&&t[tr]).A;return Te(r,e),Le(void 0,r)},e.setAutoFreeze=function(t){this.F=t},e.setUseProxies=function(t){t&&!Ye&&de(20),this.g=t},e.applyPatches=function(t,e){var r;for(r=e.length-1;r>=0;r--){var n=e[r];if(0===n.path.length&&"replace"===n.op){t=n.value;break}}var o=je("Patches").$;return he(t)?o(t,e):this.produce(t,(function(t){return o(t,e.slice(r+1))}))},t}()),cr=sr.produce;sr.produceWithPatches.bind(sr),sr.setAutoFreeze.bind(sr),sr.setUseProxies.bind(sr),sr.applyPatches.bind(sr),sr.createDraft.bind(sr),sr.finishDraft.bind(sr);const ur=cr;function lr(t,e){return t===e}function fr(t,e,r){if(null===e||null===r||e.length!==r.length)return!1;for(var n=e.length,o=0;o<n;o++)if(!t(e[o],r[o]))return!1;return!0}function pr(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every((function(t){return"function"==typeof t}))){var r=e.map((function(t){return typeof t})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+r+"]")}return e}var dr=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];var i=0,a=n.pop(),s=pr(n),c=t.apply(void 0,[function(){return i++,a.apply(null,arguments)}].concat(r)),u=t((function(){for(var t=[],e=s.length,r=0;r<e;r++)t.push(s[r].apply(null,arguments));return c.apply(null,t)}));return u.resultFunc=a,u.dependencies=s,u.recomputations=function(){return i},u.resetRecomputations=function(){return i=0},u}}((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lr,r=null,n=null;return function(){return fr(e,r,arguments)||(n=t.apply(null,arguments)),r=arguments,n}}));function hr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function yr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?vr(Object(r),!0).forEach((function(e){hr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function br(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var gr="function"==typeof Symbol&&Symbol.observable||"@@observable",wr=function(){return Math.random().toString(36).substring(7).split("").join(".")},mr={INIT:"@@redux/INIT"+wr(),REPLACE:"@@redux/REPLACE"+wr(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+wr()}};function _r(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Sr(t,e,r){var n;if("function"==typeof e&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error(br(0));if("function"==typeof e&&void 0===r&&(r=e,e=void 0),void 0!==r){if("function"!=typeof r)throw new Error(br(1));return r(Sr)(t,e)}if("function"!=typeof t)throw new Error(br(2));var o=t,i=e,a=[],s=a,c=!1;function u(){s===a&&(s=a.slice())}function l(){if(c)throw new Error(br(3));return i}function f(t){if("function"!=typeof t)throw new Error(br(4));if(c)throw new Error(br(5));var e=!0;return u(),s.push(t),function(){if(e){if(c)throw new Error(br(6));e=!1,u();var r=s.indexOf(t);s.splice(r,1),a=null}}}function p(t){if(!_r(t))throw new Error(br(7));if(void 0===t.type)throw new Error(br(8));if(c)throw new Error(br(9));try{c=!0,i=o(i,t)}finally{c=!1}for(var e=a=s,r=0;r<e.length;r++)(0,e[r])();return t}function d(t){if("function"!=typeof t)throw new Error(br(10));o=t,p({type:mr.REPLACE})}function h(){var t,e=f;return(t={subscribe:function(t){if("object"!=typeof t||null===t)throw new Error(br(11));function r(){t.next&&t.next(l())}return r(),{unsubscribe:e(r)}}})[gr]=function(){return this},t}return p({type:mr.INIT}),(n={dispatch:p,subscribe:f,getState:l,replaceReducer:d})[gr]=h,n}function Or(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}function Er(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t){return function(){var r=t.apply(void 0,arguments),n=function(){throw new Error(br(15))},o={getState:r.getState,dispatch:function(){return n.apply(void 0,arguments)}},i=e.map((function(t){return t(o)}));return n=Or.apply(void 0,i)(r.dispatch),yr(yr({},r),{},{dispatch:n})}}}function xr(t){return function(e){var r=e.dispatch,n=e.getState;return function(e){return function(o){return"function"==typeof o?o(r,n,t):e(o)}}}}var Ir=xr();Ir.withExtraArgument=xr;const Ar=Ir;var jr=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),kr=function(t,e){for(var r=0,n=e.length,o=t.length;r<n;r++,o++)t[o]=e[r];return t},Tr=Object.defineProperty,Nr=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),Cr=Object.prototype.hasOwnProperty,Dr=Object.prototype.propertyIsEnumerable,Pr=function(t,e,r){return e in t?Tr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r},Lr=function(t,e){for(var r in e||(e={}))Cr.call(e,r)&&Pr(t,r,e[r]);if(Nr)for(var n=0,o=Nr(e);n<o.length;n++)r=o[n],Dr.call(e,r)&&Pr(t,r,e[r]);return t},Rr="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?Or:Or.apply(null,arguments)};"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var Mr=function(t){function e(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var o=t.apply(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o}return jr(e,t),Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t.prototype.concat.apply(this,e)},e.prototype.prepend=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return 1===t.length&&Array.isArray(t[0])?new(e.bind.apply(e,kr([void 0],t[0].concat(this)))):new(e.bind.apply(e,kr([void 0],t.concat(this))))},e}(Array);function Br(t,e){function r(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];if(e){var o=e.apply(void 0,r);if(!o)throw new Error("prepareAction did not return an object");return Lr(Lr({type:t,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:t,payload:r[0]}}return r.toString=function(){return""+t},r.type=t,r.match=function(e){return e.type===t},r}function Fr(t){var e,r={},n=[],o={addCase:function(t,e){var n="string"==typeof t?t:t.type;if(n in r)throw new Error("addCase cannot be called with two reducers for the same action type");return r[n]=e,o},addMatcher:function(t,e){return n.push({matcher:t,reducer:e}),o},addDefaultCase:function(t){return e=t,o}};return t(o),[r,n,e]}function zr(t){var e=t.name,r=t.initialState;if(!e)throw new Error("`name` is a required option for createSlice");var n=t.reducers||{},o="function"==typeof t.extraReducers?Fr(t.extraReducers):[t.extraReducers],i=o[0],a=void 0===i?{}:i,s=o[1],c=void 0===s?[]:s,u=o[2],l=void 0===u?void 0:u,f=Object.keys(n),p={},d={},h={};f.forEach((function(t){var r,o,i=n[t],a=e+"/"+t;"reducer"in i?(r=i.reducer,o=i.prepare):r=i,p[t]=r,d[a]=r,h[t]=o?Br(a,o):Br(a)}));var v=function(t,e,r,n){void 0===r&&(r=[]);var o="function"==typeof e?Fr(e):[e,r,n],i=o[0],a=o[1],s=o[2],c=ur(t,(function(){}));return function(t,e){void 0===t&&(t=c);var r=kr([i[e.type]],a.filter((function(t){return(0,t.matcher)(e)})).map((function(t){return t.reducer})));return 0===r.filter((function(t){return!!t})).length&&(r=[s]),r.reduce((function(t,r){if(r){var n;if(he(t))return void 0===(n=r(t,e))?t:n;if(ve(t))return ur(t,(function(t){return r(t,e)}));if(void 0===(n=r(t,e))){if(null===t)return t;throw Error("A case reducer on a non-draftable value must not return undefined")}return n}return t}),t)}}(r,Lr(Lr({},a),d),c,l);return{name:e,reducer:v,actions:h,caseReducers:p}}function Ur(t){setTimeout(t,1)}!function(){function t(t,e){var r=o[t];return r?r.enumerable=e:o[t]=r={configurable:!0,enumerable:e,get:function(){var e=this[tr];return ir.get(e,t)},set:function(e){var r=this[tr];ir.set(r,t,e)}},r}function e(t){for(var e=t.length-1;e>=0;e--){var o=t[e][tr];if(!o.P)switch(o.i){case 5:n(o)&&Ue(o);break;case 4:r(o)&&Ue(o)}}}function r(t){for(var e=t.t,r=t.k,n=rr(r),o=n.length-1;o>=0;o--){var i=n[o];if(i!==tr){var a=e[i];if(void 0===a&&!ge(e,i))return!0;var s=r[i],c=s&&s[tr];if(c?c.t!==a:!me(s,a))return!0}}var u=!!e[tr];return n.length!==rr(e).length+(u?0:1)}function n(t){var e=t.k;if(e.length!==t.t.length)return!0;var r=Object.getOwnPropertyDescriptor(e,e.length-1);return!(!r||r.get)}var o={};!function(t,e){or[t]||(or[t]=e)}("ES5",{J:function(e,r){var n=Array.isArray(e),o=function(e,r){if(e){for(var n=Array(r.length),o=0;o<r.length;o++)Object.defineProperty(n,""+o,t(o,!0));return n}var i=nr(r);delete i[tr];for(var a=rr(i),s=0;s<a.length;s++){var c=a[s];i[c]=t(c,e||!!i[c].enumerable)}return Object.create(Object.getPrototypeOf(r),i)}(n,e),i={i:n?5:4,A:r?r.A:ke(),P:!1,I:!1,D:{},l:r,t:e,k:o,o:null,O:!1,C:!1};return Object.defineProperty(o,tr,{value:i,writable:!0}),o},S:function(t,r,o){o?he(r)&&r[tr].A===t&&e(t.p):(t.u&&function t(e){if(e&&"object"==typeof e){var r=e[tr];if(r){var o=r.t,i=r.k,a=r.D,s=r.i;if(4===s)ye(i,(function(e){e!==tr&&(void 0!==o[e]||ge(o,e)?a[e]||t(i[e]):(a[e]=!0,Ue(r)))})),ye(o,(function(t){void 0!==i[t]||ge(i,t)||(a[t]=!1,Ue(r))}));else if(5===s){if(n(r)&&(Ue(r),a.length=!0),i.length<o.length)for(var c=i.length;c<o.length;c++)a[c]=!1;else for(var u=o.length;u<i.length;u++)a[u]=!0;for(var l=Math.min(i.length,o.length),f=0;f<l;f++)void 0===a[f]&&t(i[f])}}}}(t.p[0]),e(t.p))},K:function(t){return 4===t.i?r(t):n(t)}})}();var Gr,Vr,Hr=r(7361),Wr=r.n(Hr),Jr=r(3608),qr=r.n(Jr);!function(t){t.MEDIAWIKI="mw",t.DISCUSSIONS="dis"}(Gr||(Gr={})),function(t){t.GAMEPEDIA="gamepedia",t.MOBILE="mobile-wiki",t.DESKTOP="oasis"}(Vr||(Vr={}));var $r,Xr=r(5578),Kr=r.n(Xr);function Yr(){return{p:null,pId:null,time:Date.now()}}function Zr(t){return{product:t.p,productVariant:t.pVar,productCategory:t.pCat,productId:t.pId,page:t.pg,pageId:t.pgId,pageLanguage:t.pgLang,adTags:t.adTags,time:t.time}}function Qr(){return"object"!=typeof(null===window||void 0===window?void 0:window._plc)?Yr():window._plc}var tn,en,rn=(($r={})[Gr.MEDIAWIKI]=["2350603","174","38969","4396","159","130814","2180","105","2237"],$r[Gr.DISCUSSIONS]=[],$r);function nn(t){return!(t<1)||qr()(0,100)<=100*t}function on(t,e){return _t.debug("App state changed: "+t+"->"+e),e}!function(t){t.New="new",t.Starting="starting",t.Delayed="delayed",t.Ready="ready"}(en||(en={}));var an,sn,cn,un=zr({name:"AppSlice",initialState:{state:en.New,config:{sendDebugLog:pt()||nn(Wr()(window,"_ss.sendDebugLogRate",.01)),sendGalactusRequest:pt()||ut()||nn(Wr()(window,"_ss.sendGalactusRequestRate",1)),sendTracking:(an=Qr(),sn=rn[an.p],cn=null==sn?void 0:sn.includes(an.pId),nn(Wr()(window,"_ss.sendTrackingRate",cn?1:0))),disableCrossdomain:ft("ss_no_crossdomain=true")||Wr()(window,"_ss.disableCrossdomain",!1),manualPageview:ut()&&ft("ss_no_pageview=true")||Wr()(window,"_ss.manualPageview",!1)},clients:[]},reducers:{starting:function(t){t.state!==en.New&&t.state!==en.Delayed||(t.state=on(t.state,en.Starting))},delayed:function(t){t.state===en.New&&(t.state=on(t.state,en.Delayed))},ready:function(t){t.state===en.Starting&&(t.state=on(t.state,en.Ready))},addClient:function(t,e){var r=e.payload;t.clients.push(r)},reboot:function(t){if(t.state===en.Ready){var e=t.clients.map((function(t){return null==t?void 0:t.onReboot})).filter(Boolean);Ur((function(){return e.forEach((function(t){return t()}))}))}}}}),ln=un.actions,fn=((tn=un.actions).starting,tn.ready,tn.delayed,tn.addClient);tn.reboot;const pn=un.reducer;var dn,hn=zr({name:"ContextSlice",initialState:{user:null,page:null,floorAdhesionSlot:"unknown",uapSlot:"unknown",topBoxadSlot:"unknown",topLeaderboardSlot:"unknown",hiviLeaderboardSlot:"unknown"},reducers:{updateUser:function(t,e){t.user=e.payload},updatePage:function(t,e){t.page=e.payload},floorAdhesionSlotUpdate:function(t,e){t.floorAdhesionSlot=e.payload},uapSlotUpdate:function(t,e){t.uapSlot=e.payload},topBoxadSlotUpdate:function(t,e){t.topBoxadSlot=e.payload},topLeaderboardUpdate:function(t,e){t.topLeaderboardSlot=e.payload},hiviLeaderboardUpdate:function(t,e){t.hiviLeaderboardSlot=e.payload}}}),vn=(hn.actions,(dn=hn.actions).updateUser),yn=dn.updatePage,bn=dn.floorAdhesionSlotUpdate,gn=dn.uapSlotUpdate,wn=dn.topLeaderboardUpdate,mn=dn.hiviLeaderboardUpdate,_n=dn.topBoxadSlotUpdate;const Sn=hn.reducer;var On;function En(t){return{id:t.productId+"_"+t.pageId+"_"+t.time,context:(e=t,{p:e.product,pVar:e.productVariant,pCat:e.productCategory,pId:e.productId,pg:e.page,pgId:e.pageId,pgLang:e.pageLanguage,adTags:e.adTags,time:e.time}),time:t.time,version:"2"};var e}function xn(t){if("1"===(null==t?void 0:t.version)){var e=t;return Zr({p:Gr.MEDIAWIKI,pCat:e.vertical,pId:e.communityId,pgId:e.pageId,time:e.time})}return"2"!==(null==t?void 0:t.version)?Zr(Yr()):Zr(t.context)}var In=zr({name:"BrowserStorageSlice",initialState:{session:{interactions:{},actions:[],pages:[]},history:{interactions:{},actions:[],pages:[]},serviceCache:{galactusUserProfile:{}},local:{status:"initializing",size:{localStorageSize:-1,indexedDBSize:-1}},crossdomain:{status:"initializing",statusErrorMessage:null,size:{localStorageSize:-1,indexedDBSize:-1},pagesFinished:!1,actionsFinished:!1,interactionsFinished:!1}},reducers:{cacheGalactusUserProfile:function(t,e){t.serviceCache.galactusUserProfile[e.payload.beaconId]=e.payload.profile},crossdomainStatus:function(t,e){var r,n=e.payload.status;"ready"!=t.crossdomain.status&&(t.crossdomain.status=n,t.crossdomain.statusErrorMessage="off"===n?null===(r=e.payload)||void 0===r?void 0:r.statusErrorMessage:"")},sessionPageViewSaved:function(t,e){t.session.pages.push(xn(e.payload))},sessionActionSaved:function(t,e){t.session.actions.push(e.payload)},sessionAddInteraction:function(t,e){var r,n=t.session.interactions,o=null!==(r=n[e.payload])&&void 0!==r?r:0;n[e.payload]=o+1,t.session.interactions=n},updateCrossdomainInteractions:function(t,e){t.history.interactions=e.payload,t.crossdomain.interactionsFinished=!0,t.crossdomain.status="ready"},updateCrossdomainActions:function(t,e){t.history.actions=e.payload,t.crossdomain.actionsFinished=!0,t.crossdomain.status="ready"},updateCrossdomainPages:function(t,e){t.history.pages=e.payload.map(xn),t.crossdomain.pagesFinished=!0,t.crossdomain.status="ready"},updateCrossdomainSize:function(t,e){t.crossdomain.size=e.payload,t.crossdomain.status="ready"},updateLocalHistory:function(t,e){var r,n,o,i;t.history.interactions=e.payload.interactions,t.history.pages=null!==(n=null===(r=e.payload.pages)||void 0===r?void 0:r.map(xn))&&void 0!==n?n:[],t.history.actions=null!==(i=null===(o=e.payload)||void 0===o?void 0:o.actions)&&void 0!==i?i:[],t.local.status="ready"},updateLocalStorageSize:function(t,e){t.local.size=e.payload}}}),An=(In.actions,(On=In.actions).cacheGalactusUserProfile),jn=On.crossdomainStatus,kn=On.sessionPageViewSaved,Tn=On.sessionActionSaved,Nn=On.sessionAddInteraction,Cn=On.updateCrossdomainSize,Dn=On.updateCrossdomainPages,Pn=On.updateCrossdomainActions,Ln=On.updateCrossdomainInteractions,Rn=On.updateLocalHistory,Mn=On.updateLocalStorageSize;const Bn=In.reducer;function Fn(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}const zn=v({event:"silversurfer",category:"silversurfer",isDebug:function(){for(var t=Object.values(ct),e=0;e<t.length;e++)if(ft(t[e]))return!0;return!1}()});var Un,Gn;!function(t){t.BOOTSTRAP="bootstrap",t.INITIALIZE_CROSSDOMAIN="initialize-crossdomain",t.INITIALIZE_CONTEXT="initialize-context",t.INITIALIZE_LOCAL_HISTORY="initialize-local-history",t.INITIALIZE_CROSSDOMAIN_HISTORY="initialize-crossdomain-history",t.LOCAL_SAVING_PAGEVIEW="local-saving-pageview",t.LOCAL_SAVING_ACTION="local-saving-action",t.LOCAL_SAVING_INTERACTION="local-saving-interaction",t.CROSSDOMAIN_SAVING_PAGEVIEW="crossdomain-saving-pageview",t.CROSSDOMAIN_SAVING_ACTION="crossdomain-saving-action",t.CROSSDOMAIN_SAVING_INTERACTION="crossdomain-saving-interaction",t.LOCAL_READING_STORAGE_SIZE="local-reading-storage-size",t.LOCAL_READING_PAGEVIEW="local-reading-pageview",t.LOCAL_READING_ACTION="local-reading-action",t.LOCAL_READING_INTERACTION="local-reading-interaction",t.CROSSDOMAIN_READING_STORAGE_SIZE="crossdomain-reading-storage-size",t.CROSSDOMAIN_READING_PAGEVIEW="crossdomain-reading-pageview",t.CROSSDOMAIN_READING_ACTION="crossdomain-reading-action",t.CROSSDOMAIN_READING_INTERACTION="crossdomain-reading-interaction"}(Gn||(Gn={}));var Vn=zr({name:"MetricsSlice",initialState:{send:!1,pvUID:Fn(),timers:{}},reducers:{sendMetrics:function(t){t.send=!0},start:function(t,e){var r,n=e.payload;(null===(r=t.timers)||void 0===r?void 0:r[n])||(t.timers[n]={time:Date.now(),isRunning:!0})},stop:function(t,e){var r,n,o=e.payload;if((null===(n=t.timers)||void 0===n?void 0:n[o])&&t.timers[o].isRunning){var i=Date.now()-t.timers[o].time;t.timers[o]={time:i,isRunning:!1},_t.debug("Timer",((r={})[o]=i,r)),t.send&&zn({label:"timer-"+o,action:"timer",value:i,pvUID:t.pvUID})}}}}),Hn=Vn.actions,Wn=((Un=Vn.actions).start,Un.stop,Un.sendMetrics);const Jn=function(t){var e,r=function(t){return function(t){void 0===t&&(t={});var e=t.thunk,r=void 0===e||e,n=(t.immutableCheck,t.serializableCheck,new Mr);return r&&(function(t){return"boolean"==typeof t}(r)?n.push(Ar):n.push(Ar.withExtraArgument(r.extraArgument))),n}(t)},n=t||{},o=n.reducer,i=void 0===o?void 0:o,a=n.middleware,s=void 0===a?r():a,c=n.devTools,u=void 0===c||c,l=n.preloadedState,f=void 0===l?void 0:l,p=n.enhancers,d=void 0===p?void 0:p;if("function"==typeof i)e=i;else{if(!function(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}(i))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');e=function(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++){var o=e[n];"function"==typeof t[o]&&(r[o]=t[o])}var i,a=Object.keys(r);try{!function(t){Object.keys(t).forEach((function(e){var r=t[e];if(void 0===r(void 0,{type:mr.INIT}))throw new Error(br(12));if(void 0===r(void 0,{type:mr.PROBE_UNKNOWN_ACTION()}))throw new Error(br(13))}))}(r)}catch(t){i=t}return function(t,e){if(void 0===t&&(t={}),i)throw i;for(var n=!1,o={},s=0;s<a.length;s++){var c=a[s],u=r[c],l=t[c],f=u(l,e);if(void 0===f)throw e&&e.type,new Error(br(14));o[c]=f,n=n||f!==l}return(n=n||a.length!==Object.keys(t).length)?o:t}}(i)}var h=s;"function"==typeof h&&(h=h(r));var v=Er.apply(void 0,h),y=Or;u&&(y=Rr(Lr({trace:!1},"object"==typeof u&&u)));var b=[v];return Array.isArray(d)?b=kr([v],d):"function"==typeof d&&(b=d(b)),Sr(e,f,y.apply(void 0,b))}({reducer:{App:pn,Metrics:Vn.reducer,Context:Sn,BrowserStorage:Bn},middleware:function(t){return t({serializableCheck:{ignoredPaths:["App.clients"],ignoredActions:["AppSlice/addClient"]}})},devTools:{name:"SilverSurfer",trace:pt()}});var qn=r(4908),$n=r.n(qn);function Xn(t){return 0===Object.keys(t||{}).length}var Kn=function(){return(Kn=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function Yn(t){var e,r=Kn(Kn({},t),{time:Date.now(),ssVersion:lt}),n=(void 0===e&&(e=0),(function(t,e){void 0===e&&(e=0);for(var r,n,o=function(){for(var t=0,e=new Array(256),r=0;256!=r;++r)t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=r)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1,e[r]=t;return"undefined"!=typeof Int32Array?new Int32Array(e):e}(),i=-1^e,a=0,s=t.length;a<s;)(r=t.charCodeAt(a++))<128?i=i>>>8^o[255&(i^r)]:r<2048?i=(i=i>>>8^o[255&(i^(192|r>>6&31))])>>>8^o[255&(i^(128|63&r))]:r>=55296&&r<57344?(r=64+(1023&r),n=1023&t.charCodeAt(a++),i=(i=(i=(i=i>>>8^o[255&(i^(240|r>>8&7))])>>>8^o[255&(i^(128|r>>2&63))])>>>8^o[255&(i^(128|n>>6&15|(3&r)<<4))])>>>8^o[255&(i^(128|63&n))]):i=(i=(i=i>>>8^o[255&(i^(224|r>>12&15))])>>>8^o[255&(i^(128|r>>6&63))])>>>8^o[255&(i^(128|63&r))];return-1^i}(JSON.stringify(r),e)>>>0).toString(16));return Kn(Kn({},r),{token:n})}function Zn(t){return t.onReboot,function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r}(t,["onReboot"])}function Qn(t,e){return(null==t?void 0:t.name)===(null==e?void 0:e.name)}function to(t,e,r){var n=t.filter((function(t){return Qn(t.client,e)})).map((function(t){return t.action}));return"string"==typeof r&&r.length>0&&(n=n.filter((function(t){return t.type===r}))),n}var eo=function(t,e){var r;return null===(r=t.Metrics.timers)||void 0===r?void 0:r[e]},ro=function(t){return t.App.state===en.Ready},no=function(t){return t.App.clients},oo=function(t){return t.App.config.sendDebugLog},io=function(t){return t.App.config.manualPageview},ao=function(t){return t.Context.user},so=function(t){return t.Context.page},co=function(t){return t.BrowserStorage.crossdomain.status},uo=function(t){return t.BrowserStorage.crossdomain.statusErrorMessage},lo=dr(co,(function(t){return"initializing"!==t})),fo=dr(co,(function(t){return"ready"===t})),po=dr((function(t){return t.BrowserStorage.local.status}),(function(t){return"ready"===t})),ho=dr(fo,po,(function(t,e){return t||e})),vo=dr(so,(function(t){return t.BrowserStorage.session.pages}),(function(t){return t.BrowserStorage.history.pages}),(function(t,e,r){return n=[t].concat(e).concat(r).filter(Boolean),Kr()(n,(function(t){return t.time})).sort((function(t,e){return e.time-t.time}));var n})),yo=dr((function(t){return t.BrowserStorage.session.actions}),(function(t){return t.BrowserStorage.history.actions}),(function(t,e){return r=t.concat(e).filter(Boolean),Kr()(r,(function(t){return t.action.time})).sort((function(t,e){return e.action.time-t.action.time}));var r})),bo=function(t){return t.BrowserStorage.history.interactions},go=function(t){return t.BrowserStorage.session.interactions},wo=dr(go,bo,(function(t,e){return r={},[t,e].forEach((function(t){for(var e=0,n=Object.entries(t);e<n.length;e++){var o=n[e],i=o[0],a=o[1];r[i]?r[i]+=a:r[i]=a}})),r;var r})),mo=dr(go,bo,(function(t,e){var r=Object.keys(t),n=Object.keys(e),o=[].concat(r,n).filter(Boolean);return $n()(o)})),_o=dr((function(t){return t.BrowserStorage.crossdomain.pagesFinished}),(function(t){return t.BrowserStorage.crossdomain.actionsFinished}),(function(t){return t.BrowserStorage.crossdomain.interactionsFinished}),(function(t,e,r){return t&&e&&r})),So=dr((function(t){return t.App.state===en.Starting}),po,so,(function(t,e,r){return t&&e&&!!r})),Oo=window.requestIdleCallback||function(t){var e=Date.now();return window.setTimeout((function(){t({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})}),1)},Eo=window.cancelIdleCallback||function(t){window.clearTimeout(t)},xo=function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))},Io=function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};var Ao,jo,ko,To=!1;function No(t){return xo(this,void 0,void 0,(function(){var e,r,n;return Io(this,(function(o){switch(o.label){case 0:return e=t||E(),(r=(i=e,function(t){var e;return null===(e=t.BrowserStorage.serviceCache.galactusUserProfile)||void 0===e?void 0:e[i]})(Jn.getState()))?[3,2]:[4,qt(t)];case 1:return(n=o.sent())&&(r=se()(A,n)),_t.debug("getGalactusUserProfile: Profile read from storage",r),[3,3];case 2:_t.debug("getGalactusUserProfile: Profile read from cache",r),o.label=3;case 3:return!To&&Jn.getState().App.config.sendGalactusRequest&&(To=!0,Ur((function(){return function(t){return xo(this,void 0,void 0,(function(){var e,r,n=this;return Io(this,(function(o){return e=null,r=Oo((function(){return xo(n,void 0,void 0,(function(){var n,o,i;return Io(this,(function(a){switch(a.label){case 0:if(Date.now()-0<6e4)return[2];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,pe(t)];case 2:return(n=a.sent())&&(null==n?void 0:n.profileId)&&(o=JSON.stringify(n))!==e&&(_t.debug("getGalactusUserProfile: Profile updated from Galactus",n),Jn.dispatch(An({beaconId:t,profile:n})),function(t,e){Vt(this,void 0,void 0,(function(){var r,n,o,i,a;return Ht(this,(function(s){switch(s.label){case 0:return Jt()?[4,Pt(t,e)]:[3,2];case 1:return n=s.sent(),[3,3];case 2:n=!1,s.label=3;case 3:return r=n,Wt()?[4,M(t,e)]:[3,5];case 4:return i=s.sent(),[3,6];case 5:i=!1,s.label=6;case 6:return o=i,(a=r||o)||_t.error("Failed to cache Galactus response",t,e),[2,a]}}))}))}(t,n),e=o),[3,4];case 3:return i=a.sent(),_t.error("Fail to fetch data from Galactus",i),Eo(r),[3,4];case 4:return[2]}}))}))})),[2]}))}))}(e)}))),[2,r]}var i}))}))}function Co(){return xo(this,void 0,void 0,(function(){var t,e;return Io(this,(function(r){switch(r.label){case 0:return t=E(),e=A,t?[3,1]:(zn.loaded({label:"no-beacon"}),[3,3]);case 1:return[4,No(t)];case 2:e=r.sent(),zn.loaded({label:"galactus-user-profile-loaded",beaconId:t,success:!!(null==e?void 0:e.profileId),profile:e}),r.label=3;case 3:return[2,e]}}))}))}function Do(t,e){var r,n,o,i;return $n()([].concat(Object.keys(null!==(o=null===(n=null===(r=null==e?void 0:e.namespaces)||void 0===r?void 0:r.adTags)||void 0===n?void 0:n.pform)&&void 0!==o?o:[]),Object.keys(null!==(i=null==t?void 0:t.pform)&&void 0!==i?i:[])).filter(Boolean))}function Po(t){var e,r,n;return(null!==(n=null===(r=null===(e=null==t?void 0:t.namespaces)||void 0===e?void 0:e.devices)||void 0===r?void 0:r.set)&&void 0!==n?n:[]).map((function(t){return{type:Lo(t),platform:Ro(t),browser:Mo(t)}}))}function Lo(t){return t.type.toLowerCase().replace("unknown","other")}function Ro(t){var e=t.os.toLowerCase(),r=t.make.toLowerCase(),n="other";return e.includes("android")&&(n="android"),r.includes("apple")&&(n="apple"),n}function Mo(t){return t.browser.toLowerCase().replace("unknown","other")}function Bo(t){var e,r,n,o=null!==(n=null===(r=null===(e=null==t?void 0:t.namespaces)||void 0===e?void 0:e.locations)||void 0===r?void 0:r.set)&&void 0!==n?n:[],i=(Ao||function(){if(!Ao){var t=decodeURIComponent(O("Geo"));try{Ao=JSON.parse(t)||{}}catch(t){Ao={}}}}(),null==Ao?void 0:Ao.country);return $n()([].concat(o.map((function(t){return t.country})),[i]).filter(Boolean).map((function(t){return t.toUpperCase()})))}function Fo(t){var e,r,n,o,i,a,s,c,u=null!==(n=null===(r=null===(e=null==t?void 0:t.namespaces)||void 0===e?void 0:e.languages)||void 0===r?void 0:r.contentLanguages)&&void 0!==n?n:[],l=null!==(a=null===(i=null===(o=null==t?void 0:t.namespaces)||void 0===o?void 0:o.languages)||void 0===i?void 0:i.acceptLanguages)&&void 0!==a?a:[],f=[null===(s=so(Jn.getState()))||void 0===s?void 0:s.pageLanguage,null===(c=ao(Jn.getState()))||void 0===c?void 0:c.lang],p=[window.navigator.language.split("-")[0]],d=vo(Jn.getState());return $n()([].concat(u.map((function(t){return t.languageCode})),l.map((function(t){return t.languageCode})),d.map((function(t){return null==t?void 0:t.pageLanguage})),f,p).filter(Boolean).map((function(t){return t.toLowerCase()})))}function zo(t){return 1===t?ko.FIRST_TIME_VISITOR:t<=5?ko.RETURNING_VISITOR:ko.FREQUENT_VISITOR}function Uo(t){var e=vo(Jn.getState()).length;if(e>0)return zo(e);var r=[];return Object.values(t).forEach((function(t){r.push(Math.max.apply(null,Object.values(t)))})),zo(Math.max.apply(null,r))}function Go(t){return[Uo(t)]}function Vo(t,e){var r,n,o,i;return $n()([].concat(Object.keys(null!==(o=null===(n=null===(r=null==e?void 0:e.namespaces)||void 0===r?void 0:r.adTags)||void 0===n?void 0:n.tv)&&void 0!==o?o:[]),Object.keys(null!==(i=null==t?void 0:t.tv)&&void 0!==i?i:[])).filter(Boolean))}function Ho(t){if("object"!=typeof t)return{};for(var e={},r=0,n=Object.entries(t);r<n.length;r++){var o=n[r],i=o[0],a=o[1];e[i]=a.reduce((function(t,e){return t[e]=1,t}),{})}return e}function Wo(t){if(t){var e=t.media,r=t.gnre,n=t.theme;return $n()([].concat(e?Object.keys(e):void 0,r?Object.keys(r):void 0,n?Object.keys(n):void 0).filter(Boolean))}return[]}!function(t){t.WIKI_CONTENT="wiki content",t.FEATURED_VIDEO="featured video",t.DISCUSSIONS="discussions"}(jo||(jo={})),function(t){t.FIRST_TIME_VISITOR="1st time visitor",t.RETURNING_VISITOR="returning visitor",t.FREQUENT_VISITOR="frequent visitor"}(ko||(ko={}));function Jo(){var t,e;return function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){var r,n,o;return function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(i){switch(i.label){case 0:return[4,Co()];case 1:return r=i.sent(),n=function(t){var e,r,n,o,i,a=null!==(r=null===(e=null==t?void 0:t.namespaces)||void 0===e?void 0:e.adTags)&&void 0!==r?r:{};return Xn(a)||(_t.debug("getUserProfile: Galactus AdTags are empty, fallback to history"),o=(null!==(n=vo(Jn.getState()).map((function(t){return t.adTags})))&&void 0!==n?n:[]).filter(Boolean).map(Ho),i={},o.forEach((function(t){for(var e,r,n=0,o=Object.entries(t);n<o.length;n++){for(var a=o[n],s=a[0],c=a[1],u=null!==(e=i[s])&&void 0!==e?e:{},l=0,f=Object.entries(c);l<f.length;l++){var p=f[l],d=p[0],h=p[1];u[d]=(null!==(r=u[d])&&void 0!==r?r:0)+h}i[s]=u}})),a=i),Xn(a)&&(_t.debug("getUserProfile: History is empty, fallback to current page"),a=Ho(so(Jn.getState()).adTags)),a}(r),o={beaconId:E(),gender:Object.keys(null!==(t=null==n?void 0:n.sex)&&void 0!==t?t:{}),affiliation:Go(n),interactions:mo(Jn.getState()),ageBrackets:Object.keys(null!==(e=null==n?void 0:n.age)&&void 0!==e?e:{}),devices:Po(r),language:Fo(r),country:Bo(r),interests:Wo(n),consoles:Do(n,r),streaming:Vo(n,r),adTags:n},_t.debug("getUserProfile: Profile complete",o),[2,o]}}))}))}var qo=function(){return(qo=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},$o={channelId:"default",host:window,coordinatorHost:window.top},Xo={connect:"connect",connected:"connected"},Ko="@wikia/post-quecast";function Yo(t){return t.channelId&&t.libId===Ko&&t.action&&function(t){return"string"==typeof t.type&&"number"==typeof t.timestamp}(t.action)}function Zo(t){return!t.data.private}function Qo(t,e){return t.data.channelId===e}function ti(t){return t.data.action}var ei=function(){function t(){}return t.make=function(t){return function(t){var e;return t.host===t.coordinatorHost&&!!(null===(e=t.coordinatorHost[Ko])||void 0===e?void 0:e.callbackConnector)}(t)?t.coordinatorHost[Ko].callbackConnector:new ni({senderHost:t.coordinatorHost,listenerHost:t.host})},t}(),ri=function(){function t(t){this.coordinatorHost=t,this.callbacks=[]}return t.prototype.dispatch=function(t){var e=this;if(!Yo(t))throw new Error("Incorrect object type. Expected PostMessageData, but got "+t);this.callbacks.forEach((function(r){return r({data:t,source:e.coordinatorHost})}))},t.prototype.addListener=function(t){this.callbacks.push(t)},t.prototype.removeListener=function(t){this.callbacks=this.callbacks.filter((function(e){return e!==t}))},t}(),ni=function(){function t(t){this.options=t,this.map=new Map}return t.prototype.dispatch=function(t){if(!Yo(t))throw new Error("Incorrect object type. Expected PostMessageData, but got "+t);this.options.senderHost.postMessage(t,"*")},t.prototype.addListener=function(t){var e=function(e){var r;(r=e)&&r.source&&r.data&&Yo(r.data)&&t(e)};this.map.set(t,e),this.options.listenerHost.addEventListener("message",e)},t.prototype.removeListener=function(t){var e=this.map.get(t);this.options.listenerHost.removeEventListener("message",e),this.map.delete(t)},t}(),oi=function(){function t(t){this.callbacks=[],this.history=[],this.channelId=t.channelId,this.connector=ei.make(t),this.setupActions(),this.setupConnection()}return t.prototype.setupActions=function(){this.getHistory(),this.listenEvent()},t.prototype.getHistory=function(){var t=this,e=function(r){if(Qo(r,t.channelId)&&function(t){return!!t.data.private}(r)){var n=ti(r);(function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.some((function(e){return t.type===e}))})(n,Xo.connected)&&(t.connector.removeListener(e),t.handleActions.apply(t,n.history))}};this.connector.addListener(e)},t.prototype.listenEvent=function(){var t=this;this.connector.addListener((function(e){if(Qo(e,t.channelId)&&Zo(e)){var r=ti(e);t.handleActions(r)}}))},t.prototype.handleActions=function(){for(var t,e=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];(t=this.history).push.apply(t,r),r.forEach((function(t){return e.callbacks.forEach((function(e){return e(t)}))}))},t.prototype.setupConnection=function(){this.connector.dispatch({action:{type:Xo.connect,timestamp:Date.now()},channelId:this.channelId,private:!0,libId:Ko})},t.prototype.addListener=function(t){this.history.forEach((function(e){return t(e)})),this.callbacks.push(t)},t.prototype.removeListener=function(t){this.callbacks=this.callbacks.filter((function(e){return e!==t}))},t}(),ii=function(){function t(t){void 0===t&&(t={});var e=qo(qo({},$o),t);this.channelId=e.channelId,this.connector=ei.make(e)}return t.prototype.dispatch=function(t){this.connector.dispatch({action:qo(qo({},t),{timestamp:Date.now()}),channelId:this.channelId,private:!0,libId:Ko})},t}(),ai=function(){function t(t){void 0===t&&(t={});var e=qo(qo({},$o),t);this.transmitter=new ii(e),this.receiver=new oi(e)}return t.prototype.dispatch=function(t){this.transmitter.dispatch(t)},t.prototype.addListener=function(t){this.receiver.addListener(t)},t.prototype.removeListener=function(t){this.receiver.removeListener(t)},t}(),si=function(){function t(t,e){this.channelId=t,this.connectors=new Map,this.history=[],this.connectors.set(e,e[Ko].callbackConnector)}return t.prototype.addConnection=function(t){this.ensureConnector(t).dispatch({action:this.createConnectedAction(),private:!0,channelId:this.channelId,libId:Ko})},t.prototype.createConnectedAction=function(){return{type:Xo.connected,history:this.history,timestamp:Date.now()}},t.prototype.broadcast=function(t){var e=this;this.history.push(t),this.connectors.forEach((function(r){r.dispatch({action:t,channelId:e.channelId,libId:Ko})}))},t.prototype.ensureConnector=function(t){return this.connectors.has(t)||this.connectors.set(t,new ni({senderHost:t,listenerHost:t})),this.connectors.get(t)},t}(),ci=function(){function t(t){this.coordinatorHost=t,this.channels=new Map,this.callbackConnector=new ri(t),this.postMessageConnector=new ni({senderHost:t,listenerHost:t})}return t.prototype.init=function(){var t=this,e=function(e){Zo(e)||(t.handleConnect(e),t.handleBroadcast(e))};this.callbackConnector.addListener(e),this.postMessageConnector.addListener(e)},t.prototype.handleConnect=function(t){(function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.some((function(e){return t.data.action.type===e}))})(t,Xo.connect)&&this.ensureChannel(t.data.channelId).addConnection(t.source)},t.prototype.handleBroadcast=function(t){(function(t){return!Object.values(Xo).some((function(e){return t.data.action.type===e}))})(t)&&this.ensureChannel(t.data.channelId).broadcast(t.data.action)},t.prototype.ensureChannel=function(t){return this.channels.has(t)||this.channels.set(t,new si(t,this.coordinatorHost)),this.channels.get(t)},t}(),ui=function(t,e){return(ui=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function li(t,e){function r(){this.constructor=t}ui(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function fi(t){return"function"==typeof t}var pi=!1,di={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack,pi=t},get useDeprecatedSynchronousErrorHandling(){return pi}};function hi(t){setTimeout((function(){throw t}),0)}var vi={closed:!0,next:function(t){},error:function(t){if(di.useDeprecatedSynchronousErrorHandling)throw t;hi(t)},complete:function(){}},yi=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}();function bi(t){return null!==t&&"object"==typeof t}var gi=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),wi=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,o=r._ctorUnsubscribe,i=r._unsubscribe,a=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var s=0;s<n.length;++s)n[s].remove(this);if(fi(i)){o&&(this._unsubscribe=void 0);try{i.call(this)}catch(t){e=t instanceof gi?mi(t.errors):[t]}}if(yi(a)){s=-1;for(var c=a.length;++s<c;){var u=a[s];if(bi(u))try{u.unsubscribe()}catch(t){e=e||[],t instanceof gi?e=e.concat(mi(t.errors)):e.push(t)}}}if(e)throw new gi(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;(r=new t)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var o=r._parentOrParents;if(null===o)r._parentOrParents=this;else if(o instanceof t){if(o===this)return r;r._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return r;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[r]:i.push(r),r},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function mi(t){return t.reduce((function(t,e){return t.concat(e instanceof gi?e.errors:e)}),[])}var _i=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),Si=function(t){function e(r,n,o){var i=t.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=vi;break;case 1:if(!r){i.destination=vi;break}if("object"==typeof r){r instanceof e?(i.syncErrorThrowable=r.syncErrorThrowable,i.destination=r,r.add(i)):(i.syncErrorThrowable=!0,i.destination=new Oi(i,r));break}default:i.syncErrorThrowable=!0,i.destination=new Oi(i,r,n,o)}return i}return li(e,t),e.prototype[_i]=function(){return this},e.create=function(t,r,n){var o=new e(t,r,n);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(wi),Oi=function(t){function e(e,r,n,o){var i,a=t.call(this)||this;a._parentSubscriber=e;var s=a;return fi(r)?i=r:r&&(i=r.next,n=r.error,o=r.complete,r!==vi&&(fi((s=Object.create(r)).unsubscribe)&&a.add(s.unsubscribe.bind(s)),s.unsubscribe=a.unsubscribe.bind(a))),a._context=s,a._next=i,a._error=n,a._complete=o,a}return li(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;di.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,r=di.useDeprecatedSynchronousErrorHandling;if(this._error)r&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)r?(e.syncErrorValue=t,e.syncErrorThrown=!0):hi(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;hi(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};di.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),di.useDeprecatedSynchronousErrorHandling)throw t;hi(t)}},e.prototype.__tryOrSetError=function(t,e,r){if(!di.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,r)}catch(e){return di.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(hi(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(Si),Ei=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function xi(t){return t}function Ii(t){return 0===t.length?xi:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var Ai=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n=this.operator,o=function(t,e,r){if(t){if(t instanceof Si)return t;if(t[_i])return t[_i]()}return t||e||r?new Si(t,e,r):new Si(vi)}(t,e,r);if(n?o.add(n.call(o,this.source)):o.add(this.source||di.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),di.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){di.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,r=e.closed,n=e.destination,o=e.isStopped;if(r||o)return!1;t=n&&n instanceof Si?n:null}return!0}(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var r=this;return new(e=ji(e))((function(e,n){var o;o=r.subscribe((function(e){try{t(e)}catch(t){n(t),o&&o.unsubscribe()}}),n,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[Ei]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:Ii(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=ji(t))((function(t,r){var n;e.subscribe((function(t){return n=t}),(function(t){return r(t)}),(function(){return t(n)}))}))},t.create=function(e){return new t(e)},t}();function ji(t){if(t||(t=di.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var ki=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Ti(t,this.project,this.thisArg))},t}(),Ti=function(t){function e(e,r,n){var o=t.call(this,e)||this;return o.project=r,o.count=0,o.thisArg=n||o,o}return li(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(Si);function Ni(t,e,r){return r?Ni(t,e).pipe((n=function(t){return yi(t)?r.apply(void 0,t):r(t)},function(t){return t.lift(new ki(n,undefined))})):new Ai((function(r){var n,o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.next(1===t.length?t[0]:t)};try{n=t(o)}catch(t){return void r.error(t)}if(fi(e))return function(){return e(o,n)}}));var n}var Ci,Di=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),Pi=function(t){function e(e,r){var n=t.call(this)||this;return n.subject=e,n.subscriber=r,n.closed=!1,n}return li(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var r=e.indexOf(this.subscriber);-1!==r&&e.splice(r,1)}}},e}(wi),Li=function(t){function e(e){var r=t.call(this,e)||this;return r.destination=e,r}return li(e,t),e}(Si),Ri=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return li(e,t),e.prototype[_i]=function(){return new Li(this)},e.prototype.lift=function(t){var e=new Mi(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new Di;if(!this.isStopped)for(var e=this.observers,r=e.length,n=e.slice(),o=0;o<r;o++)n[o].next(t)},e.prototype.error=function(t){if(this.closed)throw new Di;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,r=e.length,n=e.slice(),o=0;o<r;o++)n[o].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new Di;this.isStopped=!0;for(var t=this.observers,e=t.length,r=t.slice(),n=0;n<e;n++)r[n].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new Di;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new Di;return this.hasError?(t.error(this.thrownError),wi.EMPTY):this.isStopped?(t.complete(),wi.EMPTY):(this.observers.push(t),new Pi(this,t))},e.prototype.asObservable=function(){var t=new Ai;return t.source=this,t},e.create=function(t,e){return new Mi(t,e)},e}(Ai),Mi=function(t){function e(e,r){var n=t.call(this)||this;return n.destination=e,n.source=r,n}return li(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):wi.EMPTY},e}(Ri),Bi=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n}return li(e,t),e.prototype.schedule=function(e,r){return void 0===r&&(r=0),r>0?t.prototype.schedule.call(this,e,r):(this.delay=r,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,r){return r>0||this.closed?t.prototype.execute.call(this,e,r):this._execute(e,r)},e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0?t.prototype.requestAsyncId.call(this,e,r,n):e.flush(this)},e}(function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n.pending=!1,n}return li(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this},e.prototype.requestAsyncId=function(t,e,r){return void 0===r&&(r=0),setInterval(t.flush.bind(t,this),r)},e.prototype.recycleAsyncId=function(t,e,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var r=!1,n=void 0;try{this.work(t)}catch(t){r=!0,n=!!t&&t||new Error(t)}if(r)return this.unsubscribe(),n},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,r=e.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,r){return t.call(this)||this}return li(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(wi))),Fi=function(){function t(e,r){void 0===r&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(t,e,r){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(r,e)},t.now=function(){return Date.now()},t}(),zi=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return li(e,t),e}(function(t){function e(r,n){void 0===n&&(n=Fi.now);var o=t.call(this,r,(function(){return e.delegate&&e.delegate!==o?e.delegate.now():n()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return li(e,t),e.prototype.schedule=function(r,n,o){return void 0===n&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,o):t.prototype.schedule.call(this,r,n,o)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var r;this.active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}},e}(Fi)))(Bi),Ui=new Ai((function(t){return t.complete()}));function Gi(t){return t&&"function"==typeof t.schedule}function Vi(t,e){return new Ai((function(r){var n=new wi,o=0;return n.add(e.schedule((function(){o!==t.length?(r.next(t[o++]),r.closed||n.add(this.schedule())):r.complete()}))),n}))}function Hi(t,e){return e?Vi(t,e):new Ai((r=t,function(t){for(var e=0,n=r.length;e<n&&!t.closed;e++)t.next(r[e]);t.complete()}));var r}Ci||(Ci={});var Wi=function(){function t(t,e,r){this.kind=t,this.value=e,this.error=r,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,r){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return r&&r()}},t.prototype.accept=function(t,e,r){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,r)},t.prototype.toObservable=function(){var t;switch(this.kind){case"N":return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return Gi(r)?(t.pop(),Vi(t,r)):Hi(t)}(this.value);case"E":return t=this.error,new Ai((function(e){return e.error(t)}));case"C":return function(t){return t?function(t){return new Ai((function(e){return t.schedule((function(){return e.complete()}))}))}(t):Ui}()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}(),Ji=function(t){function e(e,r,n){void 0===n&&(n=0);var o=t.call(this,e)||this;return o.scheduler=r,o.delay=n,o}return li(e,t),e.dispatch=function(t){var e=t.notification,r=t.destination;e.observe(r),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new qi(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(Wi.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(Wi.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(Wi.createComplete()),this.unsubscribe()},e}(Si),qi=function(){return function(t,e){this.notification=t,this.destination=e}}(),$i=function(t){function e(e,r,n){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY);var o=t.call(this)||this;return o.scheduler=n,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=e<1?1:e,o._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return li(e,t),e.prototype.nextInfiniteTimeWindow=function(e){if(!this.isStopped){var r=this._events;r.push(e),r.length>this._bufferSize&&r.shift()}t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this.isStopped||(this._events.push(new Xi(this._getNow(),e)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,r=this._infiniteTimeWindow,n=r?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,i=n.length;if(this.closed)throw new Di;if(this.isStopped||this.hasError?e=wi.EMPTY:(this.observers.push(t),e=new Pi(this,t)),o&&t.add(t=new Ji(t,o)),r)for(var a=0;a<i&&!t.closed;a++)t.next(n[a]);else for(a=0;a<i&&!t.closed;a++)t.next(n[a].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||zi).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,r=this._windowTime,n=this._events,o=n.length,i=0;i<o&&!(t-n[i].time<r);)i++;return o>e&&(i=Math.max(i,o-e)),i>0&&n.splice(0,i),n},e}(Ri),Xi=function(){return function(t,e){this.time=t,this.value=e}}();class Ki{constructor(){!function(t){if(void 0===t&&(t=window),!t[Ko]){var e=new ci(t);e.init(),t[Ko]=e}}(),this.communicator=new ai,this.actions=Ni((t=>this.communicator.addListener(t)),(t=>this.communicator.removeListener(t))).pipe(function(t,e,r){var n;return n=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(t){return t.lift(function(t){var e,r,n=t.bufferSize,o=void 0===n?Number.POSITIVE_INFINITY:n,i=t.windowTime,a=void 0===i?Number.POSITIVE_INFINITY:i,s=t.refCount,c=t.scheduler,u=0,l=!1,f=!1;return function(t){var n;u++,!e||l?(l=!1,e=new $i(o,a,c),n=e.subscribe(this),r=t.subscribe({next:function(t){e.next(t)},error:function(t){l=!0,e.error(t)},complete:function(){f=!0,r=void 0,e.complete()}}),f&&(r=void 0)):n=e.subscribe(this),this.add((function(){u--,n.unsubscribe(),n=void 0,r&&!f&&s&&0===u&&(r.unsubscribe(),r=void 0,e=void 0)}))}}(n))}}({refCount:!0}))}dispatch(t){this.communicator.dispatch({...t,__global:!0})}}var Yi=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Zi(t,this.predicate,this.thisArg))},t}(),Zi=function(t){function e(e,r,n){var o=t.call(this,e)||this;return o.predicate=r,o.thisArg=n,o.count=0,o}return li(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(Si);function Qi(...t){return e=>{return e.pipe((r=e=>t.some((t=>e.type===t)),function(t){return t.lift(new Yi(r,undefined))}));var r}}function ta(t){"floor_adhesion"!==t.name&&"invisible_high_impact_2"!==t.name||Jn.dispatch(bn("collapse"===t.state?"collapsed":"loaded")),"top_boxad"===t.name&&Jn.dispatch(_n("collapse"===t.state?"collapsed":"loaded")),"hivi_leaderboard"===t.name&&Jn.dispatch(mn("collapse"===t.state?"collapsed":"loaded")),"top_leaderboard"===t.name&&Jn.dispatch(wn("collapse"===t.state?"collapsed":"loaded"))}function ea(t){Jn.dispatch(gn(t.isLoaded?"loaded":"collapsed"))}var ra=null;function na(){ra||(_t.debug("Start listening for Ad events"),(ra=new Ki).actions.pipe(Qi("[AdEngine] Ad Slot loaded")).subscribe(ta),ra.actions.pipe(Qi("[AdEngine] UAP Load status")).subscribe(ea))}var oa={id:"0",anon:!0};function ia(){Jn.dispatch(Hn.start(Gn.INITIALIZE_CONTEXT)),function(){var t=Zr(Qr()),e=function(){if("object"!=typeof(null===window||void 0===window?void 0:window._ulc))return oa;var t=window._ulc;return void 0===(null==t?void 0:t.anon)&&(t.anon=t.id===oa.id),t}();_t.debug("Reading context from window",{plc:t,ulc:e}),Jn.dispatch(yn(t)),Jn.dispatch(vn(e))}(),Ur(na),Jn.dispatch(Hn.stop(Gn.INITIALIZE_CONTEXT))}function aa(){var t,e=so(Jn.getState());return{current:e,pages:vo(Jn.getState()),slots:(t=Jn.getState(),{uap:t.Context.uapSlot,floorAdhesion:t.Context.floorAdhesionSlot,topBoxad:t.Context.topBoxadSlot,topLeaderboard:t.Context.topLeaderboardSlot,hiviLeaderboard:t.Context.hiviLeaderboardSlot}),user:ao(Jn.getState())}}function sa(t){return function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){var e,r;return function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(n){return function(t){return!(!t||"string"!=typeof t.name||(null==t?void 0:t.onReboot)&&"function"!=typeof t.onReboot)}(t)?(e=no(Jn.getState()),function(t,e){var r;return null!==(r=null==e?void 0:e.findIndex((function(e){return Qn(e,t)})))&&void 0!==r?r:-1}(t,e)>-1?(_t.debug("registerClient: Already registered client",t),zn({label:"client-registration",action:"already-registered",client:t}),[2,null]):(r=Yn(t),Jn.dispatch(fn(r)),_t.debug("registerClient: Client registered",r),[2,r.token])):(_t.debug("registerClient: Invalid client",t),zn({label:"client-registration",action:"invalid",client:t}),[2,null])}))}))}function ca(t,e){return{type:t,timestamp:Date.now(),payload:e,xv:lt}}var ua="register:response",la=function(t,e){for(var r=0,n=e.length,o=t.length;r<n;r++,o++)t[o]=e[r];return t};const fa=function(){function t(t,e,r,n){this._status="off",this._sending=!1,this._queue=[],this._onMessageCallback=r,this._origin=t,this._options=n,this._initialize(e)}return Object.defineProperty(t.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),t.prototype._log=function(t){for(var e,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];(null===(e=this._options)||void 0===e?void 0:e.debug)&&console.log.apply(console,la(["CrossDomainSender::"+t],r))},t.prototype._initialize=function(t){this._log("_initialize"),this._status="initializing";var e=document.createElement("iframe");e.style.display="none",e.sandbox="allow-same-origin allow-scripts",e.addEventListener("load",this._onIframeLoad.bind(this)),e.addEventListener("error",this._onIframeLoadError.bind(this)),e.src=t,document.body.appendChild(e),this._iframe=e},t.prototype._onIframeLoadError=function(){var t;this._log("_onIframeLoadError"),this._status="off","function"==typeof(null===(t=this._options)||void 0===t?void 0:t.onIframeError)&&this._options.onIframeError()},t.prototype._onIframeLoad=function(){this._log("_onIframeLoad");var t=new MessageChannel;t.port1.onmessage=this._onMessage.bind(this),this._sendMessage(ca("register:request"),[t.port2])},t.prototype._onMessage=function(t){var e;(null==(e=t.data)?void 0:e.xv)===lt&&(this._log("_onMessage",t),t.data.type===ua&&(this._status="ready"),"function"==typeof this._onMessageCallback&&this._onMessageCallback(t.data))},t.prototype._sendMessage=function(t,e){this._log("_sendMessage",t),this._iframe.contentWindow.postMessage(t,this._origin,e)},t.prototype._flushQueue=function(){if("ready"===this._status&&!this._sending){this._sending=!0;for(var t=void 0;void 0!==(t=this._queue.shift());)this._sendMessage(t);this._sending=!1}},t.prototype.send=function(t){this._queue.push(t),this._flushQueue()},t}();var pa;function da(){return ut()?window.location.protocol+"//"+window.location.host:(0,st.yv)()?"https://www.fandom.com":null}var ha=ut()?500:1e4;function va(){if(!pa){if(Jn.getState().App.config.disableCrossdomain)return _t.debug("Cross domain connection disabled (on purpose)"),void Jn.dispatch(jn({status:"off",statusErrorMessage:"disabled"}));if(!da())return _t.debug("Cross domain connection disabled"),void Jn.dispatch(jn({status:"off",statusErrorMessage:"incorrect-origin"}));_t.debug("Initializing cross domain connection"),Jn.dispatch(Hn.start(Gn.INITIALIZE_CROSSDOMAIN)),Jn.dispatch(Hn.start(Gn.CROSSDOMAIN_READING_STORAGE_SIZE)),Jn.dispatch(Hn.start(Gn.CROSSDOMAIN_READING_INTERACTION)),Jn.dispatch(Hn.start(Gn.CROSSDOMAIN_READING_PAGEVIEW)),Jn.dispatch(Hn.start(Gn.CROSSDOMAIN_READING_ACTION)),pa=new fa(da(),(t=window.location.search,oo(Jn.getState())&&(t+=(t.length?"&":"?")+"cb="+Date.now()),da()+"/silver-surfer.html"+t),ya,{debug:oo(Jn.getState()),onIframeError:function(){Jn.dispatch(jn({status:"off",statusErrorMessage:"iframe-error"}))}}),setTimeout((function(){Jn.dispatch(jn({status:"off",statusErrorMessage:"timeout"}))}),ha)}var t}function ya(t){switch(t.type){case ua:return Jn.dispatch(Hn.stop(Gn.INITIALIZE_CROSSDOMAIN)),Jn.dispatch(jn({status:"ready"})),void _t.debug("Cross domain connected");case"history:response-size":var e=t.payload;return Jn.dispatch(Hn.stop(Gn.CROSSDOMAIN_READING_STORAGE_SIZE)),Jn.dispatch(Cn(e)),void _t.debug("Cross domain sent storage size",e);case"history:response-interactions":var r=t.payload;return Jn.dispatch(Hn.stop(Gn.CROSSDOMAIN_READING_INTERACTION)),Jn.dispatch(Ln(r)),void _t.debug("Cross domain sent history interactions",r);case"history:response-pages":var n=t.payload;return Jn.dispatch(Hn.stop(Gn.CROSSDOMAIN_READING_PAGEVIEW)),Jn.dispatch(Dn(n)),void _t.debug("Cross domain sent history pages",n);case"history:response-actions":var o=t.payload;return Jn.dispatch(Hn.stop(Gn.CROSSDOMAIN_READING_ACTION)),Jn.dispatch(Pn(o)),void _t.debug("Cross domain sent history actions",o);case"pageview:response":return Jn.dispatch(Hn.stop(Gn.CROSSDOMAIN_SAVING_PAGEVIEW)),void _t.debug("Cross domain pageview ack");case"add-action:response":return Jn.dispatch(Hn.stop(Gn.CROSSDOMAIN_SAVING_ACTION)),void _t.debug("Cross domain action ack");case"add-interaction:response":return Jn.dispatch(Hn.stop(Gn.CROSSDOMAIN_SAVING_INTERACTION)),void _t.debug("Cross domain interaction ack")}}function ba(t){return function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){return function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(e){return _t.debug("New interaction",t),Jn.dispatch(Nn(t)),function(t){pa&&"ready"===pa.status&&(_t.debug("Sending cross domain interaction",t),Jn.dispatch(Hn.start(Gn.CROSSDOMAIN_SAVING_INTERACTION)),pa.send(function(t){return ca("add-interaction:request",t)}(t)))}(t),[2]}))}))}Qt("pathfinder",lt);var ga=te("pathfinder",lt),wa=(ne(ga),oe(ga)),ma=function(){return(ma=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function _a(t){return function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){var e,r;return function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=Fn(),[4,wa("active-data-management-service/validate/test/"+e,ma({},t))];case 1:return 200===n.sent().status?[2,!0]:[3,3];case 2:return r=n.sent(),_t.error("Failed to post active data action",r),[3,3];case 3:return[2,!1]}}))}))}var Sa,Oa=function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))},Ea=function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},xa=ce({eventCheck:function(){return ho(Jn.getState())},intervalTime:100,maxWaitTime:5e3,onReject:function(){return yo(Jn.getState())},onResolve:function(){return yo(Jn.getState())}});function Ia(){return Oa(this,void 0,void 0,(function(){var t;return Ea(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,xa()];case 1:return[2,e.sent()];case 2:return t=e.sent(),Array.isArray(t)?[2,t]:(_t.error("Error getting actions",t),[3,3]);case 3:return[2,[]]}}))}))}function Aa(t){var e=function(t){return dr(no,(function(e){return e.find((function(e){return e.token===t}))}))}(t)(Jn.getState());if(!e)throw new Error("Incorrect token");return e}function ja(t,e){return Oa(this,void 0,void 0,(function(){var r,n;return Ea(this,(function(o){switch(o.label){case 0:return r=Aa(t),n=to,[4,Ia()];case 1:return[2,n.apply(void 0,[o.sent(),r,e])]}}))}))}function ka(t){return Oa(this,void 0,void 0,(function(){return Ea(this,(function(e){switch(e.label){case 0:return ut()||Aa(t),[4,Ia()];case 1:return[2,e.sent()]}}))}))}function Ta(t,e,r,n){return Oa(this,void 0,void 0,(function(){var o,i;return Ea(this,(function(a){return o=Aa(t),i=function(t,e,r,n){return{client:Zn(t),action:{time:Date.now(),name:e,type:r,payload:n}}}(o,e,r,n),_t.debug("New action",i),Jn.dispatch(Tn(i)),function(t){pa&&"ready"===pa.status&&(_t.debug("Sending cross domain action",t),Jn.dispatch(Hn.start(Gn.CROSSDOMAIN_SAVING_ACTION)),pa.send(function(t){return ca("add-action:request",t)}(t)))}(i),[2]}))}))}!function(t){t.ADD="add",t.CLICK="click",t.CLOSE="close",t.CONFIRM="confirm",t.CREATE="create",t.DISABLE="disable",t.ENABLE="enable",t.ERROR="error",t.HOVER="hover",t.IMPRESSION="impression",t.KEYPRESS="keypress",t.NO_IMPRESSION="no-impression",t.OPEN="open",t.PLAY_VIDEO="play-video",t.REACTION="reaction",t.REMOVE="remove",t.SELECT="select",t.SHARE="share",t.SUBMIT="submit",t.SUCCESS="success",t.SWIPE="swipe",t.VIEW="view",t.REACTION_COUNT="reaction-count",t.HEALTH="health"}(Sa||(Sa={}));var Na=function(t,e,r){var n=function(t,e){this.config=t,this.onError=e,t.enabled&&this.watch()};n.prototype={watch:function(){d.forEach(["EventTarget","Node","XMLHttpRequest"],(function(e){d.has(t,e+".prototype.addEventListener")&&d.hasOwn(t[e].prototype,"addEventListener")&&this.wrapEventTarget(t[e].prototype)}),this),this.wrapTimer("setTimeout"),this.wrapTimer("setInterval")},wrap:function(t){function e(){try{return t.apply(this,arguments)}catch(t){throw o.onError("catch",t,{bindTime:r,bindStack:n}),d.wrapError(t)}}var r,n,o=this;try{if(!d.isFunction(t)||d.hasOwn(t,"__trackjs__"))return t;if(d.hasOwn(t,"__trackjs_state__"))return t.__trackjs_state__}catch(e){return t}if(o.config.bindStack)try{throw Error()}catch(t){n=t.stack,r=d.isoNow()}for(var i in t)d.hasOwn(t,i)&&(e[i]=t[i]);return e.prototype=t.prototype,e.__trackjs__=!0,t.__trackjs_state__=e},wrapEventTarget:function(t){var e=this;d.has(t,"addEventListener.call")&&d.has(t,"removeEventListener.call")&&(d.patch(t,"addEventListener",(function(t){return function(r,n,o,i){try{d.has(n,"handleEvent")&&(n.handleEvent=e.wrap(n.handleEvent))}catch(t){}return t.call(this,r,e.wrap(n),o,i)}})),d.patch(t,"removeEventListener",(function(t){return function(e,r,n,o){try{r=r&&(r.__trackjs_state__||r)}catch(t){}return t.call(this,e,r,n,o)}})))},wrapTimer:function(e){var r=this;d.patch(t,e,(function(t){return function(e,n){var o=Array.prototype.slice.call(arguments),i=o[0];return d.isFunction(i)&&(o[0]=r.wrap(i)),d.has(t,"apply")?t.apply(this,o):t(o[0],o[1])}}))}};var o=function(t){this.initCurrent(t)||console.warn("[TrackJS] invalid config")};o.prototype={current:{},initOnly:{application:!0,cookie:!0,enabled:!0,token:!0,callback:{enabled:!0},console:{enabled:!0},navigation:{enabled:!0},network:{enabled:!0,fetch:!0},visitor:{enabled:!0},window:{enabled:!0,promise:!0}},defaults:{application:"",cookie:!1,dedupe:!0,dependencies:!0,enabled:!0,forwardingDomain:"",errorURL:"https://capture.trackjs.com/capture",errorNoSSLURL:"http://capture.trackjs.com/capture",faultURL:"https://usage.trackjs.com/fault.gif",usageURL:"https://usage.trackjs.com/usage.gif",onError:function(){return!0},serialize:function(t){function e(t){var e="<"+t.tagName.toLowerCase();t=t.attributes||[];for(var r=0;r<t.length;r++)e+=" "+t[r].name+'="'+t[r].value+'"';return e+">"}if(""===t)return"Empty String";if(t===r)return"undefined";if(d.isString(t)||d.isNumber(t)||d.isBoolean(t)||d.isFunction(t))return""+t;if(d.isElement(t))return e(t);if("symbol"==typeof t)return Symbol.prototype.toString.call(t);var n;try{n=JSON.stringify(t,(function(t,n){return n===r?"undefined":d.isNumber(n)&&isNaN(n)?"NaN":d.isError(n)?{name:n.name,message:n.message,stack:n.stack}:d.isElement(n)?e(n):n}))}catch(e){for(var o in n="",t)if(t.hasOwnProperty(o))try{n+=',"'+o+'":"'+t[o]+'"'}catch(t){}n=n?"{"+n.replace(",","")+"}":"Unserializable Object"}return n.replace(/"undefined"/g,"undefined").replace(/"NaN"/g,"NaN")},sessionId:"",token:"",userId:"",version:"",callback:{enabled:!0,bindStack:!1},console:{enabled:!0,display:!0,error:!0,warn:!1,watch:["log","debug","info","warn","error"]},navigation:{enabled:!0},network:{enabled:!0,error:!0,fetch:!0},visitor:{enabled:!0},window:{enabled:!0,promise:!0}},initCurrent:function(t){return this.removeEmpty(t),this.validate(t,this.defaults,"[TrackJS] config",{})?(this.current=d.defaultsDeep({},t,this.defaults),!0):(this.current=d.defaultsDeep({},this.defaults),!1)},setCurrent:function(t){return!!this.validate(t,this.defaults,"[TrackJS] config",this.initOnly)&&(this.current=d.defaultsDeep({},t,this.current),!0)},removeEmpty:function(t){for(var e in t)t.hasOwnProperty(e)&&t[e]===r&&delete t[e]},validate:function(t,e,r,n){var o=!0;for(var i in r=r||"",n=n||{},t)if(t.hasOwnProperty(i))if(e.hasOwnProperty(i)){var a=typeof e[i];a!==typeof t[i]?(console.warn(r+"."+i+": property must be type "+a+"."),o=!1):"[object Array]"!==Object.prototype.toString.call(t[i])||this.validateArray(t[i],e[i],r+"."+i)?"[object Object]"===Object.prototype.toString.call(t[i])?o=this.validate(t[i],e[i],r+"."+i,n[i]):n.hasOwnProperty(i)&&(console.warn(r+"."+i+": property cannot be set after load."),o=!1):o=!1}else console.warn(r+"."+i+": property not supported."),o=!1;return o},validateArray:function(t,e,r){var n=!0;r=r||"";for(var o=0;o<t.length;o++)d.contains(e,t[o])||(console.warn(r+"["+o+"]: invalid value: "+t[o]+"."),n=!1);return n}};var i=function(t,e,r,n,o,i,a){this.util=t,this.log=e,this.onError=r,this.onFault=n,this.serialize=o,a.enabled&&(i.console=this.wrapConsoleObject(i.console,a))};i.prototype={wrapConsoleObject:function(t,e){var r,n=(t=t||{}).log||function(){},o=this;for(r=0;r<e.watch.length;r++)!function(r){var i=t[r]||n;t[r]=function(){try{var n=Array.prototype.slice.call(arguments);if(o.log.add("c",{timestamp:o.util.isoNow(),severity:r,message:o.serialize(1===n.length?n[0]:n)}),e[r])if(d.isError(n[0])&&1===n.length)o.onError("console",n[0]);else try{throw Error(o.serialize(1===n.length?n[0]:n))}catch(t){o.onError("console",t)}e.display&&(o.util.hasFunction(i,"apply")?i.apply(t,n):i(n[0]))}catch(t){o.onFault(t)}}}(e.watch[r]);return t},report:function(){return this.log.all("c")}};var a=function(t,e,r,n,o){this.config=t,this.util=e,this.log=r,this.window=n,this.document=o,this.correlationId=this.token=null,this.initialize()};a.prototype={initialize:function(){this.token=this.getCustomerToken(),this.correlationId=this.getCorrelationId()},getCustomerToken:function(){if(this.config.current.token)return this.config.current.token;var t=this.document.getElementsByTagName("script");return t[t.length-1].getAttribute("data-token")},getCorrelationId:function(){var t;if(!this.config.current.cookie)return this.util.uuid();try{(t=this.document.cookie.replace(/(?:(?:^|.*;\s*)TrackJS\s*\=\s*([^;]*).*$)|^.*$/,"$1"))||(t=this.util.uuid(),this.document.cookie="TrackJS="+t+"; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/")}catch(e){t=this.util.uuid()}return t},report:function(){return{application:this.config.current.application,correlationId:this.correlationId,sessionId:this.config.current.sessionId,token:this.token,userId:this.config.current.userId,version:this.config.current.version}}};var s=function(t){this.config=t,this.loadedOn=(new Date).getTime(),this.originalUrl=d.getLocation(),this.referrer=d.isBrowser?e.referrer:""};s.prototype={discoverDependencies:function(){var e={TrackJS:"3.10.1"};for(var r in t.jQuery&&t.jQuery.fn&&t.jQuery.fn.jquery&&(e.jQuery=t.jQuery.fn.jquery),t.jQuery&&t.jQuery.ui&&t.jQuery.ui.version&&(e.jQueryUI=t.jQuery.ui.version),t.angular&&t.angular.version&&t.angular.version.full&&(e.angular=t.angular.version.full),t)if("_trackJs"!==r&&"_trackJS"!==r&&"_trackjs"!==r&&"webkitStorageInfo"!==r&&"webkitIndexedDB"!==r&&"top"!==r&&"parent"!==r&&"frameElement"!==r)try{if(t[r]){var n=t[r].version||t[r].Version||t[r].VERSION;"string"==typeof n&&(e[r]=n)}}catch(t){}return e.TrackJS&&e.trackJs&&delete e.trackJs,e},report:function(){return{age:(new Date).getTime()-this.loadedOn,dependencies:this.config.current.dependencies?this.discoverDependencies():{trackJs:"3.10.1"},originalUrl:this.originalUrl,referrer:this.referrer,userAgent:t.navigator.userAgent,viewportHeight:d.isBrowser?t.document.documentElement.clientHeight:0,viewportWidth:d.isBrowser?t.document.documentElement.clientWidth:0}}};var c=function(t){this.util=t,this.appender=[],this.maxLength=30};c.prototype={all:function(t){var e,r,n=[];for(r=0;r<this.appender.length;r++)(e=this.appender[r])&&e.category===t&&n.push(e.value);return n},clear:function(){this.appender.length=0},truncate:function(){this.appender.length>this.maxLength&&(this.appender=this.appender.slice(Math.max(this.appender.length-this.maxLength,0)))},add:function(t,e){var r=this.util.uuid();return this.appender.push({key:r,category:t,value:e}),this.truncate(),r},get:function(t,e){var r,n;for(n=0;n<this.appender.length;n++)if((r=this.appender[n]).category===t&&r.key===e)return r.value;return!1}};var u=function(t){var e={};return{addMetadata:function(t,r){e[t]=r},removeMetadata:function(t){delete e[t]},report:function(){var r,n=[];for(r in e)e.hasOwnProperty(r)&&n.push({key:r,value:t(e[r])});return n},store:e}},l=function(t,e){this.log=t,this.options=e,e.enabled&&this.watch()};l.prototype={isCompatible:function(e){return e=e||t,!d.has(e,"chrome.app.runtime")&&d.has(e,"addEventListener")&&d.has(e,"history.pushState")},record:function(t,e,r){this.log.add("h",{type:t,from:d.truncate(e,250),to:d.truncate(r,250),on:d.isoNow()})},report:function(){return this.log.all("h")},watch:function(){if(this.isCompatible()){var e=this,r=d.getLocationURL().relative;t.addEventListener("popstate",(function(){var t=d.getLocationURL().relative;e.record("popState",r,t),r=t}),!0),d.forEach(["pushState","replaceState"],(function(t){d.patch(history,t,(function(n){return function(){r=d.getLocationURL().relative;var o=n.apply(this,arguments),i=d.getLocationURL().relative;return e.record(t,r,i),r=i,o}}))}))}}};var f=function(t,e,r,n,o,i){this.util=t,this.log=e,this.onError=r,this.onFault=n,this.window=o,this.options=i,i.enabled&&this.initialize(o)};f.prototype={initialize:function(t){t.XMLHttpRequest&&this.util.hasFunction(t.XMLHttpRequest.prototype.open,"apply")&&this.watchNetworkObject(t.XMLHttpRequest),t.XDomainRequest&&this.util.hasFunction(t.XDomainRequest.prototype.open,"apply")&&this.watchNetworkObject(t.XDomainRequest),this.options.fetch&&d.isWrappableFunction(t.fetch)&&this.watchFetch()},escapeUrl:function(t){return(""+t).replace(/ /gi,"%20").replace(/\t/gi,"%09")},watchFetch:function(){var e=this,r=this.log,n=this.options,o=this.onError;d.patch(t,"fetch",(function(i){return function(a,s){if(s&&s.__trackjs__)return i.apply(t,arguments);var c;try{throw Error()}catch(t){c=t.stack}var u=a instanceof Request?a.url:a,l=a instanceof Request?a.method:(s||{}).method||"GET",f=(u=e.escapeUrl(u),i.apply(t,arguments));return f.__trackjs_state__=r.add("n",{type:"fetch",startedOn:d.isoNow(),method:l,url:d.truncate(u,2e3)}),f.then((function(t){var e=r.get("n",f.__trackjs_state__);if(e){d.defaults(e,{completedOn:d.isoNow(),statusCode:t.status,statusText:t.statusText});var i=t.headers.get("trackjs-correlation-id");i&&(e.requestCorrelationId=i),n.error&&400<=t.status&&((e=Error(e.statusCode+" : "+e.method+" "+e.url)).stack=c,o("ajax",e))}return t})).catch((function(t){t=t||{};var e=r.get("n",f.__trackjs_state__);throw e&&(d.defaults(e,{completedOn:d.isoNow(),statusCode:0,statusText:t.toString()}),n.error&&(o("ajax",{name:t.name,message:(t.message||"Failed")+": "+e.method+" "+e.url,stack:t.stack||c}),t.__trackjs_state__=!0)),t}))}}))},watchNetworkObject:function(t){var e=this,r=t.prototype.open,n=t.prototype.send;return t.prototype.open=function(t,n){var o=(n||"").toString();return 0>o.indexOf("localhost:0")&&(o=e.escapeUrl(o),this._trackJs={method:t,url:o}),r.apply(this,arguments)},t.prototype.send=function(){if(!this._trackJs)try{return n.apply(this,arguments)}catch(t){return void e.onError("ajax",t)}try{this._trackJs.logId=e.log.add("n",{type:"xhr",startedOn:e.util.isoNow(),method:this._trackJs.method,url:d.truncate(this._trackJs.url,2e3)}),e.listenForNetworkComplete(this)}catch(t){e.onFault(t)}return n.apply(this,arguments)},t},listenForNetworkComplete:function(t){var e=this;e.window.ProgressEvent&&t.addEventListener&&t.addEventListener("readystatechange",(function(){4===t.readyState&&e.finalizeNetworkEvent(t)}),!0),t.addEventListener?t.addEventListener("load",(function(){e.finalizeNetworkEvent(t),e.checkNetworkFault(t)}),!0):setTimeout((function(){try{var r=t.onload;t.onload=function(){e.finalizeNetworkEvent(t),e.checkNetworkFault(t),"function"==typeof r&&e.util.hasFunction(r,"apply")&&r.apply(t,arguments)};var n=t.onerror;t.onerror=function(){e.finalizeNetworkEvent(t),e.checkNetworkFault(t),"function"==typeof oldOnError&&n.apply(t,arguments)}}catch(t){e.onFault(t)}}),0)},finalizeNetworkEvent:function(t){if(t._trackJs){var e=this.log.get("n",t._trackJs.logId);e&&(e.completedOn=this.util.isoNow(),t.getAllResponseHeaders&&t.getResponseHeader&&0<=(t.getAllResponseHeaders()||"").toLowerCase().indexOf("trackjs-correlation-id")&&(e.requestCorrelationId=t.getResponseHeader("trackjs-correlation-id")),e.statusCode=1223==t.status?204:t.status,e.statusText=1223==t.status?"No Content":t.statusText)}},checkNetworkFault:function(t){if(this.options.error&&400<=t.status&&1223!=t.status){var e=t._trackJs||{};this.onError("ajax",t.status+" : "+e.method+" "+e.url)}},report:function(){return this.log.all("n")}};var p=function(e,r){this.util=e,this.config=r,this.disabled=!1,this.throttleStats={attemptCount:0,throttledCount:0,lastAttempt:(new Date).getTime()},t.JSON&&t.JSON.stringify||(this.disabled=!0)};p.prototype={errorEndpoint:function(e){var r=this.config.current,n=r.errorURL;return d.isBrowser&&!d.testCrossdomainXhr()&&-1===t.location.protocol.indexOf("https")?n=r.errorNoSSLURL:r.forwardingDomain&&(n="https://"+r.forwardingDomain+"/capture"),n+"?token="+e+"&v=3.10.1"},usageEndpoint:function(t){var e=this.config.current,r=e.usageURL;return e.forwardingDomain&&(r="https://"+e.forwardingDomain+"/usage.gif"),this.appendObjectAsQuery(t,r)},trackerFaultEndpoint:function(t){var e=(this.config||{}).current||o.prototype.defaults,r=e.faultURL;return e.forwardingDomain&&(r="https://"+e.forwardingDomain+"/fault.gif"),this.appendObjectAsQuery(t,r)},appendObjectAsQuery:function(t,e){for(var r in e+="?",t)t.hasOwnProperty(r)&&(e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r])+"&");return e},getCORSRequest:function(e,r){var n;return this.util.testCrossdomainXhr()?((n=new t.XMLHttpRequest).open(e,r),n.setRequestHeader("Content-Type","text/plain")):void 0!==t.XDomainRequest?(n=new t.XDomainRequest).open(e,r):n=null,n},sendTrackerFault:function(t){this.throttle(t)||(d.isBrowser?e.createElement("img").src=this.trackerFaultEndpoint(t):fetch(this.trackerFaultEndpoint(t),{mode:"no-cors",__trackjs__:!0}))},sendUsage:function(t){d.isBrowser?e.createElement("img").src=this.usageEndpoint(t):fetch(this.usageEndpoint(t),{mode:"no-cors",__trackjs__:!0})},sendError:function(e,n){var o=this;if(!this.disabled&&!this.throttle(e))try{if(d.isBrowser){var i=this.getCORSRequest("POST",this.errorEndpoint(n));i.onreadystatechange=function(){4!==i.readyState||d.contains([200,202],i.status)||(o.disabled=!0)},i._trackJs=r,i.send(t.JSON.stringify(e))}else if(d.isWorker){var a={method:"POST",mode:"cors",body:t.JSON.stringify(e),__trackjs__:1};fetch(this.errorEndpoint(n),a).then((function(t){t.ok||(o.disabled=!0)})).catch((function(t){o.disabled=!0}))}}catch(t){throw this.disabled=!0,t}},throttle:function(t){var e=(new Date).getTime();if(this.throttleStats.attemptCount++,this.throttleStats.lastAttempt+1e3>=e){if(this.throttleStats.lastAttempt=e,10<this.throttleStats.attemptCount)return this.throttleStats.throttledCount++,!0}else t.throttled=this.throttleStats.throttledCount,this.throttleStats.attemptCount=0,this.throttleStats.lastAttempt=e,this.throttleStats.throttledCount=0;return!1}};var d=function(){function n(t,e,i,a){return i=i||!1,a=a||0,d.forEach(e,(function(e){d.forEach(d.keys(e),(function(s){null===e[s]||e[s]===r?t[s]=e[s]:i&&10>a&&"[object Object]"===o(e[s])?(t[s]=t[s]||{},n(t[s],[e[s]],i,a+1)):t.hasOwnProperty(s)||(t[s]=e[s])}))})),t}function o(t){return Object.prototype.toString.call(t)}return{isBrowser:void 0!==t&&void 0!==t.document,isWorker:"object"==typeof self&&self.constructor&&0<=(self.constructor.name||"").indexOf("WorkerGlobalScope"),isNode:"undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node,addEventListenerSafe:function(t,e,r,n){t.addEventListener?t.addEventListener(e,r,n):t.attachEvent&&t.attachEvent("on"+e,r)},afterDocumentLoad:function(t){if(d.isWorker)d.defer(t);else{var r=!1;"complete"===e.readyState?d.defer(t):(d.addEventListenerSafe(e,"readystatechange",(function(){"complete"!==e.readyState||r||(d.defer(t),r=!0)})),setTimeout((function(){r||(d.defer(t),r=!0)}),1e4))}},bind:function(t,e){return function(){return t.apply(e,Array.prototype.slice.call(arguments))}},contains:function(t,e){return 0<=t.indexOf(e)},defaults:function(t){return n(t,Array.prototype.slice.call(arguments,1),!1)},defaultsDeep:function(t){return n(t,Array.prototype.slice.call(arguments,1),!0)},defer:function(t,e){setTimeout((function(){t.apply(e)}))},forEach:function(t,e,r){if(d.isArray(t)){if(t.forEach)return t.forEach(e,r);for(var n=0;n<t.length;)e.call(r,t[n],n,t),n++}},getLocation:function(){return t.location.toString().replace(/ /g,"%20")},getLocationURL:function(){return d.parseURL(d.getLocation())},has:function(t,e){try{for(var r=e.split("."),n=t,o=0;o<r.length;o++){if(!n[r[o]])return!1;n=n[r[o]]}return!0}catch(t){return!1}},hasFunction:function(t,e){try{return!!t[e]}catch(t){return!1}},hasOwn:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},isArray:function(t){return"[object Array]"===o(t)},isBoolean:function(t){return"boolean"==typeof t||d.isObject(t)&&"[object Boolean]"===o(t)},isBrowserIE:function(e){var r=(e=e||t.navigator.userAgent).match(/Trident\/([\d.]+)/);return r&&"7.0"===r[1]?11:!!(e=e.match(/MSIE ([\d.]+)/))&&parseInt(e[1],10)},isBrowserSupported:function(){var t=this.isBrowserIE();return!t||8<=t},isError:function(t){if(!d.isObject(t))return!1;var e=o(t);return"[object Error]"===e||"[object DOMException]"===e||d.isString(t.name)&&d.isString(t.message)},isElement:function(t){return d.isObject(t)&&1===t.nodeType},isFunction:function(t){return!(!t||"function"!=typeof t)},isNumber:function(t){return"number"==typeof t||d.isObject(t)&&"[object Number]"===o(t)},isObject:function(t){return!(!t||"object"!=typeof t)},isString:function(t){return"string"==typeof t||!d.isArray(t)&&d.isObject(t)&&"[object String]"===o(t)},isWrappableFunction:function(t){return this.isFunction(t)&&this.hasFunction(t,"apply")},isoNow:function(){var t=new Date;return t.toISOString?t.toISOString():t.getUTCFullYear()+"-"+this.pad(t.getUTCMonth()+1)+"-"+this.pad(t.getUTCDate())+"T"+this.pad(t.getUTCHours())+":"+this.pad(t.getUTCMinutes())+":"+this.pad(t.getUTCSeconds())+"."+String((t.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"},keys:function(t){if(!d.isObject(t))return[];var e,r=[];for(e in t)t.hasOwnProperty(e)&&r.push(e);return r},noop:function(){},pad:function(t){return 1===(t=String(t)).length&&(t="0"+t),t},parseURL:function(t){var e=t.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);return e?((e={protocol:e[2],host:e[4],path:e[5],query:e[6],hash:e[8]}).origin=(e.protocol||"")+"://"+(e.host||""),e.relative=(e.path||"")+(e.query||"")+(e.hash||""),e.href=t,e):{}},patch:function(t,e,r){t[e]=r(t[e]||d.noop)},testCrossdomainXhr:function(){return d.isBrowser&&"withCredentials"in new XMLHttpRequest},truncate:function(t,e){if((t=""+t).length<=e)return t;var r=t.length-e;return t.substr(0,e)+"...{"+r+"}"},tryGet:function(t,e){try{return t[e]}catch(t){}},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))},wrapError:function(t){var e=t||Object.prototype.toString.call(t);if(e&&e.innerError)return t;var r=Error("TrackJS Caught: "+(e.message||e));return r.description="TrackJS Caught: "+e.description,r.file=e.file,r.line=e.line||e.lineNumber,r.column=e.column||e.columnNumber,r.stack=e.stack,r.innerError=t,r}}}(),h=function(t,e,r,n,o,i){this.util=t,this.log=e,this.onError=r,this.onFault=n,this.options=i,this.document=o,t.isBrowser&&i.enabled&&this.initialize(o)};h.prototype={initialize:function(t){var e=this.util.bind(this.onDocumentClicked,this),r=this.util.bind(this.onInputChanged,this);t.addEventListener?(t.addEventListener("click",e,!0),t.addEventListener("blur",r,!0)):t.attachEvent&&(t.attachEvent("onclick",e),t.attachEvent("onfocusout",r))},onDocumentClicked:function(t){try{var e=this.getElementFromEvent(t);e&&e.tagName&&(this.isDescribedElement(e,"a")||this.isDescribedElement(e,"button")||this.isDescribedElement(e,"input",["button","submit"])?this.writeVisitorEvent(e,"click"):this.isDescribedElement(e,"input",["checkbox","radio"])&&this.writeVisitorEvent(e,"input",e.value,e.checked))}catch(t){this.onFault(t)}},onInputChanged:function(t){try{var e=this.getElementFromEvent(t);e&&e.tagName&&(this.isDescribedElement(e,"textarea")?this.writeVisitorEvent(e,"input",e.value):this.isDescribedElement(e,"select")&&e.options&&e.options.length?this.onSelectInputChanged(e):this.isDescribedElement(e,"input")&&!this.isDescribedElement(e,"input",["button","submit","hidden","checkbox","radio"])&&this.writeVisitorEvent(e,"input",e.value))}catch(t){this.onFault(t)}},onSelectInputChanged:function(t){if(t.multiple)for(var e=0;e<t.options.length;e++)t.options[e].selected&&this.writeVisitorEvent(t,"input",t.options[e].value);else 0<=t.selectedIndex&&t.options[t.selectedIndex]&&this.writeVisitorEvent(t,"input",t.options[t.selectedIndex].value)},writeVisitorEvent:function(t,e,n,o){"password"===this.getElementType(t)&&(n=r);var i=this.getElementAttributes(t);t.innerText&&(i.__trackjs_element_text=this.util.truncate(t.innerText,500)),this.log.add("v",{timestamp:this.util.isoNow(),action:e,element:{tag:t.tagName.toLowerCase(),attributes:i,value:this.getMetaValue(n,o)}})},getElementFromEvent:function(t){return t.target||e.elementFromPoint(t.clientX,t.clientY)},isDescribedElement:function(t,e,r){if(t.tagName.toLowerCase()!==e.toLowerCase())return!1;if(!r)return!0;for(t=this.getElementType(t),e=0;e<r.length;e++)if(r[e]===t)return!0;return!1},getElementType:function(t){return(t.getAttribute("type")||"").toLowerCase()},getElementAttributes:function(t){for(var e={},r=Math.min(t.attributes.length,10),n=0;n<r;n++){var o=t.attributes[n];d.contains(["data-value","value"],o.name.toLowerCase())||(e[o.name]=d.truncate(o.value,100))}return e},getMetaValue:function(t,e){return t===r?r:{length:t.length,pattern:this.matchInputPattern(t),checked:e}},matchInputPattern:function(t){return""===t?"empty":/^[a-z0-9!#$%&'*+=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/.test(t)?"email":/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/.test(t)||/^(\d{4}[\/\-](0?[1-9]|1[012])[\/\-]0?[1-9]|[12][0-9]|3[01])$/.test(t)?"date":/^(?:(?:\+?1\s*(?:[.-]\s*)?)?(?:\(\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\s*\)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\s*(?:[.-]\s*)?)?([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\s*(?:[.-]\s*)?([0-9]{4})(?:\s*(?:#|x\.?|ext\.?|extension)\s*(\d+))?$/.test(t)?"usphone":/^\s*$/.test(t)?"whitespace":/^\d*$/.test(t)?"numeric":/^[a-zA-Z]*$/.test(t)?"alpha":/^[a-zA-Z0-9]*$/.test(t)?"alphanumeric":"characters"},report:function(){return this.log.all("v")}};var v=function(t,e,r,n,o){this.onError=t,this.onFault=e,this.serialize=r,o.enabled&&this.watchWindowErrors(n),o.promise&&this.watchPromiseErrors(n)};v.prototype={watchPromiseErrors:function(t){var e=this;t.addEventListener?t.addEventListener("unhandledrejection",(function(t){try{var n=(t=t||{}).detail?d.tryGet(t.detail,"reason"):d.tryGet(t,"reason");if(n!==r&&null!==n&&!n.__trackjs_state__){if(!d.isError(n))try{throw Error(e.serialize(n))}catch(t){n=t}e.onError("promise",n)}}catch(t){e.onFault(t)}})):d.patch(t,"onunhandledrejection",(function(t){return function(r){e.onError("promise",r),t.apply(this,arguments)}}))},watchWindowErrors:function(t){var e=this;d.patch(t,"onerror",(function(t){return function(r,n,o,i,a){try{if(d.isError(a))return e.onError("window",a),void t.apply(this,arguments);var s={message:(a=a||{}).message||e.serialize(r),name:a.name||"Error",line:a.line||parseInt(o,10)||null,column:a.column||parseInt(i,10)||null,stack:a.stack||null};"[object Event]"!==Object.prototype.toString.call(r)||n?s.file=a.file||e.serialize(n):s.file=(r.target||{}).src,e.onError("window",s)}catch(t){e.onFault(t)}t.apply(this,arguments)}}))}};var y=function(){this.hasInstalled=!1,this.hasEnabled=!0,this.window=t,this.document=e,this.util=d,this.install=d.bind(this.install,this),this.onError=d.bind(this.onError,this),this.onFault=d.bind(this.onFault,this),this.serialize=d.bind(this.serialize,this),this.log=new c(d),this.metadata=new u(this.serialize);var r=t&&(t._trackJs||t._trackJS||t._trackjs);r&&this.install(r)};return y.prototype={install:function(t){try{if(d.isNode)return this.warn("monitoring disabled in node"),!1;if(!d.has(t,"token"))return this.warn("missing token"),!1;if(this.hasInstalled)return this.warn("already installed"),!1;if(this.config=new o(t),this.transmitter=new p(this.util,this.config),this.environment=new s(this.config),this.customer=new a(this.config,this.util,this.log,this.window,this.document),!this.config.current.enabled)return this.hasEnabled=!1;if(this.windowConsoleWatcher=new i(this.util,this.log,this.onError,this.onFault,this.serialize,this.window,this.config.current.console),!this.util.isBrowserSupported())return!1;this.callbackWatcher=new n(this.config.current.callback,this.onError,this.onFault),this.visitorWatcher=new h(this.util,this.log,this.onError,this.onFault,this.document,this.config.current.visitor),this.navigationWatcher=new l(this.log,this.config.current.navigation),this.networkWatcher=new f(this.util,this.log,this.onError,this.onFault,this.window,this.config.current.network),this.windowWatcher=new v(this.onError,this.onFault,this.serialize,this.window,this.config.current.window);var e=this;return d.afterDocumentLoad((function(){e.transmitter.sendUsage({token:e.customer.token,correlationId:e.customer.correlationId,application:e.config.current.application,x:e.util.uuid()})})),this.hasInstalled=!0}catch(t){return this.onFault(t),!1}},pub:function(){var t=this,e={addMetadata:this.metadata.addMetadata,attempt:function(e,r){try{var n=Array.prototype.slice.call(arguments,2);return e.apply(r||this,n)}catch(e){throw t.onError("catch",e),d.wrapError(e)}},configure:function(e){return!t.hasInstalled&&t.hasEnabled?(t.warn("agent must be installed"),!1):t.config.setCurrent(e)},hash:"fb090f9249a14e8440f317f57bd82ec8d6ea32a4",isInstalled:function(){return t.hasInstalled},install:this.install,removeMetadata:this.metadata.removeMetadata,track:function(e){if(!t.hasInstalled&&t.hasEnabled)t.warn("agent must be installed");else{var r=d.isError(e)?e.message:t.serialize(e);if(!(e=e||{}).stack)try{throw Error(r)}catch(t){e=t}t.onError("direct",e)}},version:"3.10.1",watch:function(e,r){return function(){try{var n=Array.prototype.slice.call(arguments,0);return e.apply(r||this,n)}catch(e){throw t.onError("catch",e),d.wrapError(e)}}},watchAll:function(t){var e,r=Array.prototype.slice.call(arguments,1);for(e in t)"function"!=typeof t[e]||d.contains(r,e)||(t[e]=this.watch(t[e],t));return t}};return new i(d,t.log,t.onError,t.onFault,t.serialize,e,o.prototype.defaults.console),e},onError:function(){var e,r=!1;return function(n,o,i){if(this.hasInstalled&&this.hasEnabled&&d.isBrowserSupported())try{if(i=i||{bindStack:null,bindTime:null,force:!1},o&&d.isError(o)||(o={name:"Error",message:this.serialize(o,i.force)}),-1===o.message.indexOf("TrackJS Caught"))if(r&&-1!==o.message.indexOf("Script error"))r=!1;else{var a=d.defaultsDeep({},{agentPlatform:d.isBrowser?"browser":"worker",bindStack:i.bindStack,bindTime:i.bindTime,column:o.column||o.columnNumber,console:this.windowConsoleWatcher.report(),customer:this.customer.report(),entry:n,environment:this.environment.report(),file:o.file||o.fileName,line:o.line||o.lineNumber,message:o.message,metadata:this.metadata.report(),nav:this.navigationWatcher.report(),network:this.networkWatcher.report(),url:(t.location||"").toString(),stack:o.stack,timestamp:this.util.isoNow(),visitor:this.visitorWatcher.report(),version:"3.10.1"});if(!i.force)try{if(!this.config.current.onError(a,o))return}catch(t){a.console.push({timestamp:this.util.isoNow(),severity:"error",message:t.message});var s=this;setTimeout((function(){s.onError("catch",t,{force:!0})}),0)}if(this.config.current.dedupe){var c=(a.message+a.stack).substr(0,1e4);if(c===e)return;e=c}!function(){function t(){var t=0;return d.forEach(a.console,(function(e){t+=(e.message||"").length})),8e4<=t}for(var e=0;t()&&e<a.console.length;)a.console[e].message=d.truncate(a.console[e].message,1e3),e++}(),this.log.clear(),setTimeout((function(){r=!1})),r=!0,this.transmitter.sendError(a,this.customer.token)}}catch(t){this.onFault(t)}}}(),onFault:function(t){var e=this.transmitter||new p;t=t||{},t={token:(this.customer||{}).token,file:t.file||t.fileName,msg:t.message||"unknown",stack:(t.stack||"unknown").substr(0,1e3),url:this.window.location,v:"3.10.1",h:"fb090f9249a14e8440f317f57bd82ec8d6ea32a4",x:this.util.uuid()},e.sendTrackerFault(t)},serialize:function(t,e){if(this.hasInstalled&&this.config.current.serialize&&!e)try{return this.config.current.serialize(t)}catch(t){this.onError("catch",t,{force:!0})}return o.prototype.defaults.serialize(t)},warn:function(e){d.has(t,"console.warn")&&t.console.warn("TrackJS: "+e)}},(new y).pub()}("undefined"==typeof self?void 0:self,"undefined"==typeof document?void 0:document),Ca=function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))},Da=function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function Pa(){return Ca(this,void 0,void 0,(function(){var t;return Da(this,(function(e){return t=so(Jn.getState()),r=En(t),pa&&"ready"===pa.status&&(_t.debug("Tracking cross domain page",r),Jn.dispatch(Hn.start(Gn.CROSSDOMAIN_SAVING_PAGEVIEW)),pa.send(ca("pageview:request",r))),[2];var r}))}))}function La(){return Ca(this,void 0,void 0,(function(){var t,e;return Da(this,(function(r){return t=so(Jn.getState()),e=En(t),_t.debug("Tracking local page",e),Jn.dispatch(kn(e)),[2]}))}))}var Ra=[];var Ma=r(8446),Ba=r.n(Ma);function Fa(t,e,r){var n;function o(){var o=e(t.getState());Ba()(o,n)||r(n=o)}var i=t.subscribe(o);return o(),i}var za=function(t,e){return e===Gt.BOTH?t:t+"-"+e};function Ua(){return document.cookie.includes("ss_galactus_enabled")}var Ga=function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))},Va=function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};var Ha=null;function Wa(){return Ga(this,void 0,void 0,(function(){var t,e;return Va(this,(function(r){var n;return n=Jn.getState(),t=n.App.state===en.Delayed,e=ro(Jn.getState()),t||e?function(t,e){return t&&e&&t.p===e.p&&t.pId===e.pId&&t.pg===e.pg&&t.pgId===e.pgId}(Qr(),Ha)?(_t.debug("Page context did not change, skipping pageview"),[2,!1]):(_t.debug("Firing manual pageview"),ia(),La().catch(_t.error),e&&(fo(Jn.getState())&&Pa().catch(_t.error),Jn.dispatch(ln.reboot())),t&&Jn.dispatch(ln.starting()),Ha=Qr(),[2,!0]):(_t.error("trackPageview cannot be triggered until SilverSurfer is bootstrapped"),[2,!1])}))}))}var Ja={trackPageview:Wa,getContext:aa,registerClient:sa,getUserProfile:Jo,addInteraction:ba,ACTION:Sa,addActiveDataAction:Ka,addAction:Ta,getAllActions:ka,getActions:ja,getGalactusUserProfile:No,isCrossdomainFinished:rs,isInitialized:ns,getVersionHash:os},qa=Sa;function $a(){return Wa()}function Xa(t){return sa(t)}function Ka(t,e,r,n){return function(t,e,r,n){return Oa(this,void 0,void 0,(function(){return Ea(this,(function(o){switch(o.label){case 0:return n._type=r,[4,_a({time:Date.now(),name:e,type:r,payload:n})];case 1:return o.sent()?[4,Ta(t,e,r,n)]:[3,3];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))}(t,e,r,n)}function Ya(t,e,r,n){return Ta(t,e,r,n)}function Za(t,e){return ja(t,e)}function Qa(t){return ka(t)}function ts(){return Jo()}function es(t){return ba(t)}function rs(){return _o(Jn.getState())}function ns(){return ro(Jn.getState())}function os(){return lt}function is(t){return No(t||E())}function as(){return aa()}(Math.random()<25e-5||pt())&&!ut()&&(Na.install({token:"9c54fb276b8f4be1b6a43ae2a27355d1",version:"surfer-sdk@"+lt,onError:function(t){return(null==t?void 0:t.file)?-1!=t.file.indexOf("silversurfer"):!!(null==t?void 0:t.stack)&&-1!=t.stack.indexOf("silversurfer")},network:{enabled:!1,error:!1}}),window.TrackJS=Na),S(e.SS_PRE_BOOTSTRAP),function(){return Ga(this,void 0,void 0,(function(){return Va(this,(function(t){var r,n;return Jn.getState().App.state===en.New&&(_t.debug("Booting",lt,Jn.getState().App.config),Jn.dispatch(Hn.start(Gn.BOOTSTRAP)),oo(Jn.getState())&&(_t.debug("Sending all the timing events"),Jn.dispatch(Wn())),function(){var t=this,e=Fa(Jn,So,(function(r){return Ga(t,void 0,void 0,(function(){return Va(this,(function(t){var n;return r&&(e(),_t.debug("Booted, running post-boot actions"),Fa(Jn,vo,(function(t){Jn.dispatch(Hn.start(Gn.LOCAL_SAVING_PAGEVIEW)),function(t){return Vt(this,void 0,void 0,(function(){var e,r,n,o,i;return Ht(this,(function(a){switch(a.label){case 0:return Jt()?[4,Rt(t)]:[3,2];case 1:return r=a.sent(),[3,3];case 2:r=!1,a.label=3;case 3:return e=r,Wt()?[4,z(t)]:[3,5];case 4:return o=a.sent(),[3,6];case 5:o=!1,a.label=6;case 6:return n=o,(i=e||n)?_t.debug("Local pages updated from cross domain"):_t.error("Failed to update local pages"),[2,i]}}))}))}(t.map(En)).then((function(){Jn.dispatch(Hn.stop(Gn.LOCAL_SAVING_PAGEVIEW)),_t.debug("LocalStorage pages saved",t)}))})),Fa(Jn,yo,(function(t){Jn.dispatch(Hn.start(Gn.LOCAL_SAVING_ACTION)),function(t){return Vt(this,void 0,void 0,(function(){var e,r,n,o,i;return Ht(this,(function(a){switch(a.label){case 0:return Jt()?[4,zt(t)]:[3,2];case 1:return r=a.sent(),[3,3];case 2:r=!1,a.label=3;case 3:return e=r,Wt()?[4,G(t)]:[3,5];case 4:return o=a.sent(),[3,6];case 5:o=!1,a.label=6;case 6:return n=o,(i=e||n)?_t.debug("Local actions updated from cross domain"):_t.error("Failed to update local actions"),[2,i]}}))}))}(t).then((function(){Jn.dispatch(Hn.stop(Gn.LOCAL_SAVING_ACTION)),_t.debug("LocalStorage actions saved",t)}))})),Fa(Jn,wo,(function(t){Jn.dispatch(Hn.start(Gn.LOCAL_SAVING_INTERACTION)),function(t){return Vt(this,void 0,void 0,(function(){var e,r,n,o,i;return Ht(this,(function(a){switch(a.label){case 0:return Jt()?[4,Mt(t)]:[3,2];case 1:return r=a.sent(),[3,3];case 2:r=!1,a.label=3;case 3:return e=r,Wt()?[4,B(t)]:[3,5];case 4:return o=a.sent(),[3,6];case 5:o=!1,a.label=6;case 6:return n=o,(i=e||n)?_t.debug("Local interactions updated from cross domain"):_t.error("Failed to update local interactions"),[2,i]}}))}))}(t).then((function(){Jn.dispatch(Hn.stop(Gn.LOCAL_SAVING_INTERACTION)),_t.debug("LocalStorage interactions saved",t)}))})),La().catch(_t.error),Jo().catch(_t.error),(Jn.getState().App.config.sendTracking||Ua())&&(Ua()||((n=new Date).setMonth(n.getMonth()+12),document.cookie="ss_galactus_enabled=true;expires="+n+";domain=.fandom.com;path=/")),Jn.dispatch(Hn.stop(Gn.BOOTSTRAP)),Jn.dispatch(ln.ready()),Ur(va)),[2]}))}))}))}(),r=Fa(Jn,lo,(function(t){t&&(S(e.SS_CROSS_DOMAIN_READY),r(),Jn.dispatch(Hn.stop(Gn.INITIALIZE_CROSSDOMAIN_HISTORY)),_t.debug("Cross domain initialized:",co(Jn.getState()),uo(Jn.getState())),io(Jn.getState())||Pa().catch(_t.error),Ur((function(){return function(t){var e=fo(Jn.getState()),r={version:lt,crossDomain:e},n=eo(Jn.getState(),"bootstrap");n&&!(null==n?void 0:n.isRunning)&&(r.bootTimer=n.time);var o=so(Jn.getState());(null==o?void 0:o.time)&&(r.bootTotalTimer=Date.now()-o.time);var i=Jn.getState().BrowserStorage.local.size,a=i.localStorageSize,s=i.indexedDBSize;if(r.currentDomainLocalStorage=a,r.currentDomainIndexedDB=s,e){var c=eo(Jn.getState(),"cross-domain-initialize");c&&!(null==c?void 0:c.isRunning)&&(r.crossDomainBootTimer=c.time);var u=eo(Jn.getState(),"cross-domain-pageview-roundtrip");u&&!(null==u?void 0:u.isRunning)&&(r.crossDomainRoundtripTimer=u.time);var l=function(t){return t.BrowserStorage.crossdomain.size}(Jn.getState()),f=l.localStorageSize,p=l.indexedDBSize;r.crossDomainLocalStorage=f,r.crossDomainIndexedDB=p}else r.crossDomainMessage=uo(Jn.getState());r.countActions=yo(Jn.getState()).length,r.countPages=vo(Jn.getState()).length,_t.debug("Performance stats",r),t&&Object.keys(r).forEach((function(t){return function(t,e){var r;["bootTimer","bootTotalTimer","crossDomain","currentDomainLocalStorage","currentDomainIndexedDB","crossDomainBootTimer","crossDomainRoundtripTimer","crossDomainLocalStorage","crossDomainIndexedDB","countActions","countPages"].includes(t)&&zn({action:"timer",label:"timer-"+t,value:Number.isInteger(e)?(r=e,Ra.length||(Ra.push(0),Array(8).fill(0).forEach((function(t,e){[1,2,5].forEach((function(t){return Ra.push(Math.pow(10,e)*t)}))}))),void function(t,e){for(var r=0;r<e.length-1;r++)if(t>=e[r]&&t<e[r+1])return e[r+1]}(r,Ra)):e})}(t,r[t])}))}(oo(Jn.getState()))})))})),n=Fa(Jn,_o,(function(t){t&&(n(),Jn.dispatch(Hn.stop(Gn.INITIALIZE_CROSSDOMAIN_HISTORY)),_t.debug("Cross domain finished"))})),function(){return function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function s(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}c((n=n.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){var t,e,r,n,o,i;return function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(a){switch(a.label){case 0:return t=Math.random()<.05?0==Math.floor(2*Math.random())?Gt.INDEXEDDB:Gt.LOCALSTORAGE:Gt.BOTH,Jn.dispatch(Hn.start(za(Gn.INITIALIZE_LOCAL_HISTORY,t))),Jn.dispatch(Hn.start(za(Gn.LOCAL_READING_PAGEVIEW,t))),[4,$t(t)];case 1:return e=a.sent(),Jn.dispatch(Hn.stop(za(Gn.LOCAL_READING_PAGEVIEW,t))),Jn.dispatch(Hn.start(za(Gn.LOCAL_READING_ACTION,t))),[4,Xt(t)];case 2:return r=a.sent(),Jn.dispatch(Hn.stop(za(Gn.LOCAL_READING_ACTION,t))),Jn.dispatch(Hn.start(za(Gn.LOCAL_READING_INTERACTION,t))),[4,Kt(t)];case 3:return n=a.sent(),Jn.dispatch(Hn.stop(za(Gn.LOCAL_READING_INTERACTION,t))),o={interactions:n,actions:r,pages:e},_t.debug("Read from local domain",o),Jn.dispatch(Hn.stop(za(Gn.INITIALIZE_LOCAL_HISTORY,t))),Jn.dispatch(Rn(o)),Jn.dispatch(Hn.start(za(Gn.LOCAL_READING_STORAGE_SIZE,t))),[4,Yt(t)];case 4:return i=a.sent(),Jn.dispatch(Hn.stop(za(Gn.LOCAL_READING_STORAGE_SIZE,t))),Jn.dispatch(Mn(i)),zn.loaded({label:"track-page",pageEntry:En(so(Jn.getState())),totalPagesTracked:e.length,totalPropertiesTracked:(s=e,s.reduce((function(t,e){return t+Object.keys(e).length}),0))}),[2]}var s}))}))}().catch(_t.error),io(Jn.getState())?Jn.dispatch(ln.delayed()):(ia(),La().catch(_t.error),Jn.dispatch(ln.starting()))),[2]}))}))}().then((function(){return S(e.SS_SDK_READY)})).catch(_t.error);const ss=Ja})(),n})()}));
//# sourceMappingURL=sdk.js.map